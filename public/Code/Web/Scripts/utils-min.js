var matched,browser;jQuery.uaMatch=function(b){b=b.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}jQuery.browser=browser;$.isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));(function(D,y){function q(c,f,a){return[parseFloat(c[0])*(g.test(c[0])?f/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)]}function E(c,a){return parseInt(D.css(c,a),10)||0}function k(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:D.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}D.ui=D.ui||{};var B,j=Math.max,b=Math.abs,m=Math.round,w=/left|center|right/,A=/top|center|bottom/,C=/[\+\-]\d+(\.[\d]+)?%?/,z=/^\w+/,g=/%$/,x=D.fn.position;D.position={scrollbarWidth:function(){if(B!==y){return B}var a,c,f=D("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),e=f.children()[0];return D("body").append(f),a=e.offsetWidth,f.css("overflow","scroll"),c=e.offsetWidth,a===c&&(c=f[0].clientWidth),f.remove(),B=a-c},getScrollInfo:function(l){var f=l.isWindow||l.isDocument?"":l.element.css("overflow-x"),h=l.isWindow||l.isDocument?"":l.element.css("overflow-y"),o="scroll"===f||"auto"===f&&l.width<l.element[0].scrollWidth,c="scroll"===h||"auto"===h&&l.height<l.element[0].scrollHeight;return{width:c?D.position.scrollbarWidth():0,height:o?D.position.scrollbarWidth():0}},getWithinInfo:function(f){var a=D(f||window),c=D.isWindow(a[0]),h=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:c,isDocument:h,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},D.fn.position=function(n){if(!n||!n.of){return x.apply(this,arguments)}n=D.extend({},n);var s,f,l,h,F,u,r=D(n.of),o=D.position.getWithinInfo(n.within),i=D.position.getScrollInfo(o),t=(n.collision||"flip").split(" "),c={};return u=k(r),r[0].preventDefault&&(n.at="left top"),f=u.width,l=u.height,h=u.offset,F=D.extend({},h),D.each(["my","at"],function(){var e,a,p=(n[this]||"").split(" ");1===p.length&&(p=w.test(p[0])?p.concat(["center"]):A.test(p[0])?["center"].concat(p):["center","center"]),p[0]=w.test(p[0])?p[0]:"center",p[1]=A.test(p[1])?p[1]:"center",e=C.exec(p[0]),a=C.exec(p[1]),c[this]=[e?e[0]:0,a?a[0]:0],n[this]=[z.exec(p[0])[0],z.exec(p[1])[0]]}),1===t.length&&(t[1]=t[0]),"right"===n.at[0]?F.left+=f:"center"===n.at[0]&&(F.left+=f/2),"bottom"===n.at[1]?F.top+=l:"center"===n.at[1]&&(F.top+=l/2),s=q(c.at,f,l),F.left+=s[0],F.top+=s[1],this.each(function(){var e,G,K=D(this),O=K.outerWidth(),J=K.outerHeight(),H=E(this,"marginLeft"),N=E(this,"marginTop"),L=O+H+E(this,"marginRight")+i.width,a=J+N+E(this,"marginBottom")+i.height,I=D.extend({},F),p=q(c.my,K.outerWidth(),K.outerHeight());"right"===n.my[0]?I.left-=O:"center"===n.my[0]&&(I.left-=O/2),"bottom"===n.my[1]?I.top-=J:"center"===n.my[1]&&(I.top-=J/2),I.left+=p[0],I.top+=p[1],D.support.offsetFractions||(I.left=m(I.left),I.top=m(I.top)),e={marginLeft:H,marginTop:N},D.each(["left","top"],function(M,P){D.ui.position[t[M]]&&D.ui.position[t[M]][P](I,{targetWidth:f,targetHeight:l,elemWidth:O,elemHeight:J,collisionPosition:e,collisionWidth:L,collisionHeight:a,offset:[s[0]+p[0],s[1]+p[1]],my:n.my,at:n.at,within:o,elem:K})}),n.using&&(G=function(R){var Q=h.left-I.left,S=Q+f-O,T=h.top-I.top,P=T+l-J,M={target:{element:r,left:h.left,top:h.top,width:f,height:l},element:{element:K,left:I.left,top:I.top,width:O,height:J},horizontal:0>S?"left":Q>0?"right":"center",vertical:0>P?"top":T>0?"bottom":"middle"};O>f&&f>b(Q+S)&&(M.horizontal="center"),J>l&&l>b(T+P)&&(M.vertical="middle"),M.important=j(b(Q),b(S))>j(b(T),b(P))?"horizontal":"vertical",n.using.call(this,R,M)}),K.offset(D.extend(I,{using:G}))})},D.ui.position={fit:{left:function(H,F){var p,I=F.within,f=I.isWindow?I.scrollLeft:I.offset.left,G=I.width,c=H.left-F.collisionPosition.marginLeft,o=f-c,u=c+F.collisionWidth-G-f;F.collisionWidth>G?o>0&&0>=u?(p=H.left+o+F.collisionWidth-G-f,H.left+=o-p):H.left=u>0&&0>=o?f:o>u?f+G-F.collisionWidth:f:o>0?H.left+=o:u>0?H.left-=u:H.left=j(H.left-c,H.left)},top:function(H,F){var p,I=F.within,f=I.isWindow?I.scrollTop:I.offset.top,G=F.within.height,c=H.top-F.collisionPosition.marginTop,o=f-c,u=c+F.collisionHeight-G-f;F.collisionHeight>G?o>0&&0>=u?(p=H.top+o+F.collisionHeight-G-f,H.top+=o-p):H.top=u>0&&0>=o?f:o>u?f+G-F.collisionHeight:f:o>0?H.top+=o:u>0?H.top-=u:H.top=j(H.top-c,H.top)}},flip:{left:function(Q,L){var I,R,G=L.within,O=G.offset.left+G.scrollLeft,F=G.width,H=G.isWindow?G.scrollLeft:G.offset.left,J=Q.left-L.collisionPosition.marginLeft,N=J-H,P=J+L.collisionWidth-F-H,M="left"===L.my[0]?-L.elemWidth:"right"===L.my[0]?L.elemWidth:0,r="left"===L.at[0]?L.targetWidth:"right"===L.at[0]?-L.targetWidth:0,K=-2*L.offset[0];0>N?(I=Q.left+M+r+K+L.collisionWidth-F-O,(0>I||b(N)>I)&&(Q.left+=M+r+K)):P>0&&(R=Q.left-L.collisionPosition.marginLeft+M+r+K-H,(R>0||P>b(R))&&(Q.left+=M+r+K))},top:function(R,M){var I,S,G=M.within,P=G.offset.top+G.scrollTop,F=G.height,H=G.isWindow?G.scrollTop:G.offset.top,J=R.top-M.collisionPosition.marginTop,O=J-H,Q=J+M.collisionHeight-F-H,N="top"===M.my[1],r=N?-M.elemHeight:"bottom"===M.my[1]?M.elemHeight:0,L="top"===M.at[1]?M.targetHeight:"bottom"===M.at[1]?-M.targetHeight:0,K=-2*M.offset[1];0>O?(S=R.top+r+L+K+M.collisionHeight-F-P,R.top+r+L+K>O&&(0>S||b(O)>S)&&(R.top+=r+L+K)):Q>0&&(I=R.top-M.collisionPosition.marginTop+r+L+K-H,R.top+r+L+K>Q&&(I>0||Q>b(I))&&(R.top+=r+L+K))}},flipfit:{left:function(){D.ui.position.flip.left.apply(this,arguments),D.ui.position.fit.left.apply(this,arguments)},top:function(){D.ui.position.flip.top.apply(this,arguments),D.ui.position.fit.top.apply(this,arguments)}}},function(){var p,f,h,u,c,t=document.getElementsByTagName("body")[0],l=document.createElement("div");p=document.createElement(t?"div":"body"),h={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},t&&D.extend(h,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in h){p.style[c]=h[c]}p.appendChild(l),f=t||document.documentElement,f.insertBefore(p,f.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",u=D(l).offset().left,D.support.offsetFractions=u>10&&11>u,p.innerHTML="",f.removeChild(p)}()})(jQuery);var Hashtable=function(x){function F(a){return typeof a==C?a:""+a}function M(a){var c;return typeof a==C?a:typeof a.hashCode==j?(c=a.hashCode(),typeof c==C?c:M(c)):F(a)}function A(a,f){for(var c in f){f.hasOwnProperty(c)&&(a[c]=f[c])}}function H(a,c){return a.equals(c)}function m(a,c){return typeof c.equals==j?c.equals(a):a===c}function D(a){return function(c){if(null===c){throw new Error("null is not a valid "+a)}if(c===x){throw new Error(a+" must not be undefined")}}}function z(a,g,f,c){this[0]=a,this.entries=[],this.addEntry(g,f),null!==c&&(this.getEqualityFunction=function(){return c})}function P(a){return function(h){for(var g,f=this.entries.length,c=this.getEqualityFunction(h);f--;){if(g=this.entries[f],c(h,g[0])){switch(a){case w:return !0;case b:return g;case B:return[f,g[1]]}}}return !1}}function G(a){return function(l){for(var h=l.length,g=0,f=this.entries,c=f.length;c>g;++g){l[h+g]=f[g][a]}}}function L(a,g){for(var f,c=a.length;c--;){if(f=a[c],g===f[0]){return c}}return null}function I(a,f){var c=a[f];return c&&c instanceof z?c:null}function O(){var s=[],h={},g={replaceDuplicateKey:!0,hashCode:M,equals:null},p=arguments[0],f=arguments[1];f!==x?(g.hashCode=p,g.equals=f):p!==x&&A(g,p);var e=g.hashCode,r=g.equals;this.properties=g,this.put=function(i,u){J(i),N(u);var l,y,c=e(i),n=null;return l=I(h,c),l?(y=l.getEntryForKey(i),y?(g.replaceDuplicateKey&&(y[0]=i),n=y[1],y[1]=u):l.addEntry(i,u)):(l=new z(c,i,u,r),s.push(l),h[c]=l),n},this.get=function(a){J(a);var l=e(a),i=I(h,l);if(i){var c=i.getEntryForKey(a);if(c){return c[1]}}return null},this.containsKey=function(a){J(a);var i=e(a),c=I(h,i);return c?c.containsKey(a):!1},this.containsValue=function(a){N(a);for(var c=s.length;c--;){if(s[c].containsValue(a)){return !0}}return !1},this.clear=function(){s.length=0,h={}},this.isEmpty=function(){return !s.length};var q=function(a){return function(){for(var i=[],c=s.length;c--;){s[c][a](i)}return i}};this.keys=q("keys"),this.values=q("values"),this.entries=q("getEntries"),this.remove=function(c){J(c);var l,i=e(c),a=null,n=I(h,i);return n&&(a=n.removeEntryForKey(c),null!==a&&0==n.entries.length&&(l=L(s,i),s.splice(l,1),delete h[i])),a},this.size=function(){for(var a=0,c=s.length;c--;){a+=s[c].entries.length}return a}}var j="function",C="string",k="undefined";if(typeof encodeURIComponent==k||Array.prototype.splice===x||Object.prototype.hasOwnProperty===x){return null}var J=D("key"),N=D("value"),w=0,b=1,B=2;return z.prototype={getEqualityFunction:function(a){return typeof a.equals==j?H:m},getEntryForKey:P(b),getEntryAndIndexForKey:P(B),removeEntryForKey:function(a){var c=this.getEntryAndIndexForKey(a);return c?(this.entries.splice(c[0],1),c[1]):null},addEntry:function(a,c){this.entries.push([a,c])},keys:G(0),values:G(1),getEntries:function(c){for(var h=c.length,g=0,f=this.entries,a=f.length;a>g;++g){c[h+g]=f[g].slice(0)}},containsKey:P(w),containsValue:function(a){for(var f=this.entries,c=f.length;c--;){if(a===f[c][1]){return !0}}return !1}},O.prototype={each:function(a){for(var g,f=this.entries(),c=f.length;c--;){g=f[c],a(g[0],g[1])}},equals:function(c){var h,g,f,a=this.size();if(a==c.size()){for(h=this.keys();a--;){if(g=h[a],f=c.get(g),null===f||f!==this.get(g)){return !1}}return !0}return !1},putAll:function(y,g){for(var l,c,h,q,f=y.entries(),E=f.length,p=typeof g==j;E--;){l=f[E],c=l[0],h=l[1],p&&(q=this.get(c))&&(h=g(c,q,h)),this.put(c,h)}},clone:function(){var a=new O(this.properties);return a.putAll(this),a}},O.prototype.toQueryString=function(){for(var c,g=this.entries(),f=g.length,a=[];f--;){c=g[f],a[f]=encodeURIComponent(F(c[0]))+"="+encodeURIComponent(F(c[1]))}return a.join("&")},O}();(function(l){var a=new Hashtable();var g=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"];var b=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"];var j=["bg","cz","fi","fr","no","pl","ru","se"];var e=["ch"];var h=[[".",","],[",","."],[","," "],[".","'"]];var c=[g,b,j,e];function k(o,m,n){this.dec=o;this.group=m;this.neg=n}function i(){for(var m=0;m<c.length;m++){var o=c[m];for(var n=0;n<o.length;n++){a.put(o[n],m)}}}function f(m,s){if(a.size()==0){i()}var r=".";var p=",";var q="-";if(s==false){if(m.indexOf("_")!=-1){m=m.split("_")[1].toLowerCase()}else{if(m.indexOf("-")!=-1){m=m.split("-")[1].toLowerCase()}}}var o=a.get(m);if(o){var n=h[o];if(n){r=n[0];p=n[1]}}return new k(r,p,q)}l.fn.formatNumber=function(m,n,o){return this.each(function(){if(n==null){n=true}if(o==null){o=true}var q;if(l(this).is(":input")){q=new String(l(this).val())}else{q=new String(l(this).text())}var p=l.formatNumber(q,m);if(n){if(l(this).is(":input")){l(this).val(p)}else{l(this).text(p)}}if(o){return p}})};l.formatNumber=function(r,y){var y=l.extend({},l.fn.formatNumber.defaults,y);var m=f(y.locale.toLowerCase(),y.isFullLocale);var o=m.dec;var w=m.group;var p=m.neg;var n="0#-,.";var u="";var t=false;for(var s=0;s<y.format.length;s++){if(n.indexOf(y.format.charAt(s))==-1){u=u+y.format.charAt(s)}else{if(s==0&&y.format.charAt(s)=="-"){t=true;continue}else{break}}}var x="";for(var s=y.format.length-1;s>=0;s--){if(n.indexOf(y.format.charAt(s))==-1){x=y.format.charAt(s)+x}else{break}}y.format=y.format.substring(u.length);y.format=y.format.substring(0,y.format.length-x.length);var q=new Number(r);return l._formatNumber(q,y,x,u,t)};l._formatNumber=function(n,r,o,J,u){var r=l.extend({},l.fn.formatNumber.defaults,r);var H=f(r.locale.toLowerCase(),r.isFullLocale);var G=H.dec;var y=H.group;var m=H.neg;if(r.overrideGroupSep!=null){y=r.overrideGroupSep}if(r.overrideDecSep!=null){G=r.overrideDecSep}if(r.overrideNegSign!=null){m=r.overrideNegSign}var B=false;if(isNaN(n)){if(r.nanForceZero==true){n=0;B=true}else{return""}}if(r.isPercentage==true||(r.autoDetectPercentage&&o.charAt(o.length-1)=="%")){n=n*100}var D="";if(r.format.indexOf(".")>-1){var I=G;var w=r.format.substring(r.format.lastIndexOf(".")+1);if(r.round==true){n=new Number(n.toFixed(w.length))}else{var N=n.toString();if(N.lastIndexOf(".")>0){N=N.substring(0,N.lastIndexOf(".")+w.length+1)}n=new Number(N)}var C=new Number(n.toString().substring(n.toString().indexOf(".")));decimalString=new String(C.toFixed(w.length));decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var K=0;K<w.length;K++){if(w.charAt(K)=="#"&&decimalString.charAt(K)!="0"){I+=decimalString.charAt(K);continue}else{if(w.charAt(K)=="#"&&decimalString.charAt(K)=="0"){var s=decimalString.substring(K);if(s.match("[1-9]")){I+=decimalString.charAt(K);continue}else{break}}else{if(w.charAt(K)=="0"){I+=decimalString.charAt(K)}}}}D+=I}else{n=Math.round(n)}var x=Math.floor(n);if(n<0){x=Math.ceil(n)}var F="";if(r.format.indexOf(".")==-1){F=r.format}else{F=r.format.substring(0,r.format.indexOf("."))}var M="";if(!(x==0&&F.substr(F.length-1)=="#")||B){var z=new String(Math.abs(x));var q=9999;if(F.lastIndexOf(",")!=-1){q=F.length-F.lastIndexOf(",")-1}var p=0;for(var K=z.length-1;K>-1;K--){M=z.charAt(K)+M;p++;if(p==q&&K!=0){M=y+M;p=0}}if(F.length>M.length){var L=F.indexOf("0");if(L!=-1){var E=F.length-L;var t=F.length-M.length-1;while(M.length<E){var A=F.charAt(t);if(A==","){A=y}M=A+M;t--}}}}if(!M&&F.indexOf("0",F.length-1)!==-1){M="0"}D=M+D;if(n<0&&u&&J.length>0){J=m+J}else{if(n<0){D=m+D}}if(!r.decimalSeparatorAlwaysShown){if(D.lastIndexOf(G)==D.length-1){D=D.substring(0,D.length-1)}}D=J+D+o;return D};l.fn.parseNumber=function(m,n,p){if(n==null){n=true}if(p==null){p=true}var q;if(l(this).is(":input")){q=new String(l(this).val())}else{q=new String(l(this).text())}var o=l.parseNumber(q,m);if(o){if(n){if(l(this).is(":input")){l(this).val(o.toString())}else{l(this).text(o.toString())}}if(p){return o}}};l.parseNumber=function(w,B){var B=l.extend({},l.fn.parseNumber.defaults,B);var n=f(B.locale.toLowerCase(),B.isFullLocale);var s=n.dec;var z=n.group;var t=n.neg;if(B.overrideGroupSep!=null){z=B.overrideGroupSep}if(B.overrideDecSep!=null){s=B.overrideDecSep}if(B.overrideNegSign!=null){t=B.overrideNegSign}var m="1234567890";var q=".-";var o=B.strict;while(w.indexOf(z)>-1){w=w.replace(z,"")}w=w.replace(s,".").replace(t,"-");var A="";var r=false;if(B.isPercentage==true||(B.autoDetectPercentage&&w.charAt(w.length-1)=="%")){r=true}for(var x=0;x<w.length;x++){if(m.indexOf(w.charAt(x))>-1){A=A+w.charAt(x)}else{if(q.indexOf(w.charAt(x))>-1){A=A+w.charAt(x);q=q.replace(w.charAt(x),"")}else{if(B.allowPostfix){break}else{if(o){A="NaN";break}}}}}var u=new Number(A);if(r){u=u/100;var y=A.indexOf(".");if(y!=-1){var p=A.length-y-1;u=u.toFixed(p+2)}else{u=u.toFixed(2)}}return u};l.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false,isPercentage:false,autoDetectPercentage:true,isFullLocale:false,strict:false,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:false};l.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true,isFullLocale:false,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:false,autoDetectPercentage:true};Number.prototype.toFixed=function(m){return l._roundNumber(this,m)};l._roundNumber=function(o,n){var m=Math.pow(10,n||0);var p=String(Math.round(o*m)/m);if(n>0){var q=p.indexOf(".");if(q==-1){p+=".";q=0}else{q=p.length-(q+1)}while(q<n){p+="0";q++}}return p}})(jQuery);!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(a){function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length){return}c=e[0]}var f=this;if(f.clk=c,"image"==c.type){if(void 0!==b.offsetX){f.clk_x=b.offsetX,f.clk_y=b.offsetY}else{if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else{f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop}}}setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f){return this.attr.apply(this,arguments)}var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split("&"),g=f.length,h=[];for(d=0;g>d;d++){f[d]=f[d].replace(/\+/g," "),e=f[d].split("="),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])])}return h}function g(d){for(var e=new FormData,f=0;f<d.length;f++){e.append(d[f].name,d[f].value)}if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++){g[f]&&e.append(g[f][0],g[f][1])}}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b){return b}try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d("cannot get iframe.contentDocument: "+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2("target"),f=l.attr2("action"),g="multipart/form-data",j=l.attr("enctype")||l.attr("encoding")||g;x.setAttribute("target",o),(!i||/post/i.test(i))&&x.setAttribute("method","POST"),f!=m.url&&x.setAttribute("action",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var k=[];try{if(m.extraData){for(var n in m.extraData){m.extraData.hasOwnProperty(n)&&(a.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty("name")&&m.extraData[n].hasOwnProperty("value")?k.push(a('<input type="hidden" name="'+m.extraData[n].name+'">').val(m.extraData[n].value).appendTo(x)[0]):k.push(a('<input type="hidden" name="'+n+'">').val(m.extraData[n]).appendTo(x)[0]))}}m.iframeTarget||q.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,!1),setTimeout(b,15);try{x.submit()}catch(p){var s=document.createElement("form").submit;s.apply(x)}}finally{x.setAttribute("action",f),x.setAttribute("enctype",j),c?x.setAttribute("target",c):l.removeAttr("target"),a(k).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d("cannot access response document"),b=A),b===z&&s){return s.abort("timeout"),y.reject(s,"timeout"),void 0}if(b==A&&s){return s.abort("server abort"),y.reject(s,"error","server abort"),void 0}if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,!1);var c,f="success";try{if(v){throw"timeout"}var g="xml"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G){return d("requeing onLoad callback, DOM not available"),setTimeout(h,250),void 0}var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType="xml"),s.getResponseHeader=function(a){var b={"content-type":m.dataType};return b[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute("status"))||s.status,s.statusText=i.getAttribute("statusText")||s.statusText);var j=(m.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName("textarea")[0];if(l){s.responseText=l.value,s.status=Number(l.getAttribute("status"))||s.status,s.statusText=l.getAttribute("statusText")||s.statusText}else{if(k){var o=E.getElementsByTagName("pre")[0],p=E.getElementsByTagName("body")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}}else{"xml"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText))}try{D=J(s,j,m)}catch(t){f="parsererror",s.error=c=t||f}}catch(t){d("error caught: ",t),f="error",s.error=c=t||f}s.aborted&&(d("upload aborted"),f=null),s.status&&(f=s.status>=200&&s.status<300||304===s.status?"success":"error"),"success"===f?(m.success&&m.success.call(m.context,D,"success",s),y.resolve(s.responseText,"success",s),n&&a.event.trigger("ajaxSuccess",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,"error",c),n&&a.event.trigger("ajaxError",[s,m,c])),n&&a.event.trigger("ajaxComplete",[s,m]),n&&!--a.active&&a.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr("src",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c){for(k=0;k<p.length;k++){j=a(p[k]),f?j.prop("disabled",!1):j.removeAttr("disabled")}}if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2("name"),u?o=u:q.attr2("name",o)):(q=a('<iframe name="'+o+'" src="'+m.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand("Stop")}catch(e){}q.attr("src",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger("ajaxError",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0===a.active++&&a.event.trigger("ajaxStart"),n&&a.event.trigger("ajaxSend",[s,m]),m.beforeSend&&m.beforeSend.call(m.context,s,m)===!1){return m.global&&a.active--,y.reject(),y}if(s.aborted){return y.reject(),y}t=x.clk,t&&(u=t.name,u&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,"image"==t.type&&(m.extraData[u+".x"]=x.clk_x,m.extraData[u+".y"]=x.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length){return d("ajaxSubmit: skipping submit process - no element selected"),this}var i,j,k,l=this;"function"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto){return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this}if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1){return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this}var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&b.beforeSubmit(q,this,b)===!1){return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this}if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto){return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this}var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(t,arguments)})}else{b.success&&s.push(b.success)}if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++){s[f].apply(e,[a,c,d||l,l])}},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),x=w.length>0,y="multipart/form-data",z=l.attr("enctype")==y||l.attr("encoding")==y,A=e.fileapi&&e.formdata;d("fileAPI :"+A);var B,C=(x||z)&&!A;b.iframe!==!1&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",B);for(var D=0;D<p.length;D++){p[D]=null}return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return !a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length){return d}var f,g=this[0],h=this.attr("id"),i=b?g.getElementsByTagName("*"):g.elements;if(i&&!/MSIE 8/.test(navigator.userAgent)&&(i=a(i).get()),h&&(f=a(":input[form="+h+"]").get(),f.length&&(i=(i||[]).concat(f))),!i||!i.length){return d}var j,k,l,m,n,o,p;for(j=0,o=i.length;o>j;j++){if(n=i[j],l=n.name,l&&!n.disabled){if(b&&g.clk&&"image"==n.type){g.clk==n&&(d.push({name:l,value:a(n).val(),type:n.type}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}))}else{if(m=a.fieldValue(n,!0),m&&m.constructor==Array){for(c&&c.push(n),k=0,p=m.length;p>k;k++){d.push({name:l,value:m[k]})}}else{if(e.fileapi&&"file"==n.type){c&&c.push(n);var q=n.files;if(q.length){for(k=0;k<q.length;k++){d.push({name:l,value:q[k],type:n.type})}}else{d.push({name:l,value:"",type:n.type})}}else{null!==m&&"undefined"!=typeof m&&(c&&c.push(n),d.push({name:l,value:m,type:n.type,required:n.required}))}}}}}if(!b&&g.clk){var r=a(g.clk),s=r[0];l=s.name,l&&!s.disabled&&"image"==s.type&&(d.push({name:l,value:r.val()}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array){for(var f=0,g=e.length;g>f;f++){c.push({name:d,value:e[f]})}}else{null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex)){return null}if("select"==f){var g=b.selectedIndex;if(0>g){return null}for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j){return n}h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c){this.checked=b}else{if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}}})},a.fn.ajaxSubmit.debug=!1});
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
;!function(be,bd,bc,a7){function a6(f,e,g){return setTimeout(aY(f,g),e)}function a4(f,e,g){return Array.isArray(f)?(a3(f,g[e],g),!0):!1}function a3(g,f,i){var h;if(g){if(g.forEach){g.forEach(f,i)}else{if(g.length!==a7){for(h=0;h<g.length;){f.call(i,g[h],h,g),h++}}else{for(h in g){g.hasOwnProperty(h)&&f.call(i,g[h],h,g)}}}}}function a2(a,h,g){var f="DEPRECATED METHOD: "+h+"\n"+g+" AT \n";return function(){var i=new Error("get-stack-trace"),e=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=be.console&&(be.console.warn||be.console.log);return b&&b.call(be.console,f,e),a.apply(this,arguments)}}function aZ(g,f,j){var i,h=f.prototype;i=g.prototype=Object.create(h),i.constructor=g,i._super=h,j&&cj(i,j)}function aY(e,c){return function(){return e.apply(c,arguments)}}function aW(e,c){return typeof e==a8?e.apply(c?c[0]||a7:a7,c):e}function aV(e,c){return e===a7?c:e}function aU(f,e,g){a3(aO(e),function(a){f.addEventListener(a,g,!1)})}function aS(f,e,g){a3(aO(e),function(a){f.removeEventListener(a,g,!1)})}function aR(e,c){for(;e;){if(e==c){return !0}e=e.parentNode}return !1}function aP(e,c){return e.indexOf(c)>-1}function aO(b){return b.trim().split(/\s+/g)}function aN(f,e,h){if(f.indexOf&&!h){return f.indexOf(e)}for(var g=0;g<f.length;){if(h&&f[g][h]==e||!h&&f[g]===e){return g}g++}return -1}function aM(b){return Array.prototype.slice.call(b,0)}function aL(i,h,n){for(var m=[],l=[],k=0;k<i.length;){var j=h?i[k][h]:i[k];aN(l,j)<0&&m.push(i[k]),l[k]=j,k++}return n&&(m=h?m.sort(function(b,e){return b[h]>e[h]}):m.sort()),m}function aK(i,h){for(var m,l,k=h[0].toUpperCase()+h.slice(1),j=0;j<b4.length;){if(m=b4[j],l=m?m+k:h,l in i){return l}j++}return a7}function aJ(){return bg++}function aI(a){var e=a.ownerDocument||a;return e.defaultView||e.parentWindow||be}function aH(f,e){var g=this;this.manager=f,this.callback=e,this.element=f.element,this.target=f.options.inputTarget,this.domHandler=function(a){aW(f.options.enable,[f])&&g.handler(a)},this.init()}function aF(f){var e,g=f.options.inputClass;return new (e=g?g:ac?bz:cc?bv:ap?bs:bA)(f,aE)}function aE(i,h,n){var m=n.pointers.length,l=n.changedPointers.length,k=h&ax&&m-l===0,j=h&(ck|b5)&&m-l===0;n.isFirst=!!k,n.isFinal=!!j,k&&(i.session={}),n.eventType=h,bT(i,n),i.emit("hammer.input",n),i.recognize(n),i.session.prevInput=n}function bT(w,u){var t=w.session,s=u.pointers,r=s.length;t.firstInput||(t.firstInput=bO(u)),r>1&&!t.firstMultiple?t.firstMultiple=bO(u):1===r&&(t.firstMultiple=!1);var q=t.firstInput,p=t.firstMultiple,o=p?p.center:q.center,n=u.center=bL(s);u.timeStamp=cm(),u.deltaTime=u.timeStamp-q.timeStamp,u.angle=bG(o,n),u.distance=bH(o,n),bR(t,u),u.offsetDirection=bI(u.deltaX,u.deltaY);var m=bK(u.deltaTime,u.deltaX,u.deltaY);u.overallVelocityX=m.x,u.overallVelocityY=m.y,u.overallVelocity=am(m.x)>am(m.y)?m.x:m.y,u.scale=p?bC(p.pointers,s):1,u.rotation=p?bD(p.pointers,s):0,u.maxPointers=t.prevInput?u.pointers.length>t.prevInput.maxPointers?u.pointers.length:t.prevInput.maxPointers:u.pointers.length,bQ(t,u);var l=w.element;aR(u.srcEvent.target,l)&&(l=u.srcEvent.target),u.target=l}function bR(h,g){var l=g.center,k=h.offsetDelta||{},j=h.prevDelta||{},i=h.prevInput||{};g.eventType!==ax&&i.eventType!==ck||(j=h.prevDelta={x:i.deltaX||0,y:i.deltaY||0},k=h.offsetDelta={x:l.x,y:l.y}),g.deltaX=j.x+(l.x-k.x),g.deltaY=j.y+(l.y-k.y)}function bQ(x,w){var u,t,s,r,q=x.lastInterval||w,p=w.timeStamp-q.timeStamp;if(w.eventType!=b5&&(p>a1||q.velocity===a7)){var o=w.deltaX-q.deltaX,n=w.deltaY-q.deltaY,m=bK(p,o,n);t=m.x,s=m.y,u=am(m.x)>am(m.y)?m.x:m.y,r=bI(o,n),x.lastInterval=w}else{u=q.velocity,t=q.velocityX,s=q.velocityY,r=q.direction}w.velocity=u,w.velocityX=t,w.velocityY=s,w.direction=r}function bO(f){for(var e=[],g=0;g<f.pointers.length;){e[g]={clientX:az(f.pointers[g].clientX),clientY:az(f.pointers[g].clientY)},g++}return{timeStamp:cm(),pointers:e,center:bL(e),deltaX:f.deltaX,deltaY:f.deltaY}}function bL(g){var f=g.length;if(1===f){return{x:az(g[0].clientX),y:az(g[0].clientY)}}for(var j=0,i=0,h=0;f>h;){j+=g[h].clientX,i+=g[h].clientY,h++}return{x:az(j/f),y:az(i/f)}}function bK(f,e,g){return{x:e/f||0,y:g/f||0}}function bI(e,c){return e===c?bN:am(e)>=am(c)?0>e?a9:aA:0>c?an:cn}function bH(g,f,j){j||(j=aD);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return Math.sqrt(i*i+h*h)}function bG(g,f,j){j||(j=aD);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return 180*Math.atan2(h,i)/Math.PI}function bD(e,c){return bG(c[1],c[0],aq)+bG(e[1],e[0],aq)}function bC(e,c){return bH(c[0],c[1],aq)/bH(e[0],e[1],aq)}function bA(){this.evEl=cd,this.evWin=bX,this.pressed=!1,aH.apply(this,arguments)}function bz(){this.evEl=ar,this.evWin=ae,aH.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function by(){this.evTarget=bP,this.evWin=af,this.started=!1,aH.apply(this,arguments)}function bx(f,e){var h=aM(f.touches),g=aM(f.changedTouches);return e&(ck|b5)&&(h=aL(h.concat(g),"identifier",!0)),[h,g]}function bv(){this.evTarget=bu,this.targetIds={},aH.apply(this,arguments)}function bt(r,q){var p=aM(r.touches),o=this.targetIds;if(q&(ax|ak)&&1===p.length){return o[p[0].identifier]=!0,[p,p]}var n,m,l=aM(r.changedTouches),k=[],j=this.target;if(m=p.filter(function(b){return aR(b.target,j)}),q===ax){for(n=0;n<m.length;){o[m[n].identifier]=!0,n++}}for(n=0;n<l.length;){o[l[n].identifier]&&k.push(l[n]),q&(ck|b5)&&delete o[l[n].identifier],n++}return k.length?[aL(m.concat(k),"identifier",!0),k]:void 0}function bs(){aH.apply(this,arguments);var b=aY(this.handler,this);this.touch=new bv(this.manager,b),this.mouse=new bA(this.manager,b),this.primaryTouch=null,this.lastTouches=[]}function br(e,c){e&ax?(this.primaryTouch=c.changedPointers[0].identifier,bq.call(this,c)):e&(ck|b5)&&bq.call(this,c)}function bq(g){var f=g.changedPointers[0];if(f.identifier===this.primaryTouch){var j={x:f.clientX,y:f.clientY};this.lastTouches.push(j);var i=this.lastTouches,h=function(){var b=i.indexOf(j);b>-1&&i.splice(b,1)};setTimeout(h,aQ)}}function bp(i){for(var h=i.srcEvent.clientX,n=i.srcEvent.clientY,m=0;m<this.lastTouches.length;m++){var l=this.lastTouches[m],k=Math.abs(h-l.x),j=Math.abs(n-l.y);if(at>=k&&at>=j){return !0}}return !1}function bo(e,c){this.manager=e,this.set(c)}function bn(f){if(aP(f,av)){return av}var e=aP(f,ai),g=aP(f,ci);return e&&g?av:e||g?e?ai:ci:aP(f,aX)?aX:bB}function bm(){if(!cf){return !1}var a={},e=be.CSS&&be.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){a[b]=e?be.CSS.supports("touch-action",b):!0}),a}function bl(b){this.options=cj({},this.defaults,b||{}),this.id=aJ(),this.manager=null,this.options.enable=aV(this.options.enable,!0),this.state=bJ,this.simultaneous={},this.requireFail=[]}function bj(b){return b&b7?"cancel":b&al?"end":b&ay?"move":b&a5?"start":""}function b6(b){return b==cn?"down":b==an?"up":b==a9?"left":b==aA?"right":""}function bh(f,e){var g=e.manager;return g?g.get(f):f}function bZ(){bl.apply(this,arguments)}function bw(){bZ.apply(this,arguments),this.pX=null,this.pY=null}function aT(){bZ.apply(this,arguments)}function au(){bl.apply(this,arguments),this._timer=null,this._input=null}function ah(){bZ.apply(this,arguments)}function cg(){bZ.apply(this,arguments)}function b1(){bl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bE(e,c){return c=c||{},c.recognizers=aV(c.recognizers,bE.defaults.preset),new a0(e,c)}function a0(e,c){this.options=cj({},bE.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=aF(this),this.touchAction=new bo(this,this.options.touchAction),aw(this,!0),a3(this.options.recognizers,function(g){var f=this.add(new g[0](g[1]));g[2]&&f.recognizeWith(g[2]),g[3]&&f.requireFailure(g[3])},this)}function aw(f,e){var h=f.element;if(h.style){var g;a3(f.options.cssProps,function(b,a){g=aK(h.style,a),e?(f.oldCssProps[g]=h.style[g],h.style[g]=b):h.style[g]=f.oldCssProps[g]||""}),e||(f.oldCssProps={})}}function aj(b,f){var e=bd.createEvent("Event");e.initEvent(b,!0,!0),e.gesture=f,f.target.dispatchEvent(e)}var cj,b4=["","webkit","Moz","MS","ms","o"],bM=bd.createElement("div"),a8="function",az=Math.round,am=Math.abs,cm=Date.now;cj="function"!=typeof Object.assign?function(h){if(h===a7||null===h){throw new TypeError("Cannot convert undefined or null to object")}for(var g=Object(h),k=1;k<arguments.length;k++){var j=arguments[k];if(j!==a7&&null!==j){for(var i in j){j.hasOwnProperty(i)&&(g[i]=j[i])}}}return g}:Object.assign;var b8=a2(function(h,g,k){for(var j=Object.keys(g),i=0;i<j.length;){(!k||k&&h[j[i]]===a7)&&(h[j[i]]=g[j[i]]),i++}return h},"extend","Use `assign`."),bU=a2(function(e,c){return b8(e,c,!0)},"merge","Use `assign`."),bg=1,aC=/mobile|tablet|ip(ad|hone|od)|android/i,ap="ontouchstart" in be,ac=aK(be,"PointerEvent")!==a7,cc=ap&&aC.test(navigator.userAgent),bW="touch",ch="pen",b2="mouse",bF="kinect",a1=25,ax=1,ak=2,ck=4,b5=8,bN=1,a9=2,aA=4,an=8,cn=16,b9=a9|aA,bV=an|cn,bi=b9|bV,aD=["x","y"],aq=["clientX","clientY"];aH.prototype={handler:function(){},init:function(){this.evEl&&aU(this.element,this.evEl,this.domHandler),this.evTarget&&aU(this.target,this.evTarget,this.domHandler),this.evWin&&aU(aI(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&aS(this.element,this.evEl,this.domHandler),this.evTarget&&aS(this.target,this.evTarget,this.domHandler),this.evWin&&aS(aI(this.element),this.evWin,this.domHandler)}};var ad={mousedown:ax,mousemove:ak,mouseup:ck},cd="mousedown",bX="mousemove mouseup";aZ(bA,aH,{handler:function(e){var c=ad[e.type];c&ax&&0===e.button&&(this.pressed=!0),c&ak&&1!==e.which&&(c=ck),this.pressed&&(c&ck&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[e],changedPointers:[e],pointerType:b2,srcEvent:e}))}});var bk={pointerdown:ax,pointermove:ak,pointerup:ck,pointercancel:b5,pointerout:b5},aG={2:bW,3:ch,4:b2,5:bF},ar="pointerdown",ae="pointermove pointerup pointercancel";be.MSPointerEvent&&!be.PointerEvent&&(ar="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel"),aZ(bz,aH,{handler:function(j){var i=this.store,p=!1,o=j.type.toLowerCase().replace("ms",""),n=bk[o],m=aG[j.pointerType]||j.pointerType,l=m==bW,k=aN(i,j.pointerId,"pointerId");n&ax&&(0===j.button||l)?0>k&&(i.push(j),k=i.length-1):n&(ck|b5)&&(p=!0),0>k||(i[k]=j,this.callback(this.manager,n,{pointers:i,changedPointers:[j],pointerType:m,srcEvent:j}),p&&i.splice(k,1))}});var ce={touchstart:ax,touchmove:ak,touchend:ck,touchcancel:b5},bP="touchstart",af="touchstart touchmove touchend touchcancel";aZ(by,aH,{handler:function(f){var e=ce[f.type];if(e===ax&&(this.started=!0),this.started){var g=bx.call(this,f,e);e&(ck|b5)&&g[0].length-g[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:g[0],changedPointers:g[1],pointerType:bW,srcEvent:f})}}});var bY={touchstart:ax,touchmove:ak,touchend:ck,touchcancel:b5},bu="touchstart touchmove touchend touchcancel";aZ(bv,aH,{handler:function(f){var e=bY[f.type],g=bt.call(this,f,e);g&&this.callback(this.manager,e,{pointers:g[0],changedPointers:g[1],pointerType:bW,srcEvent:f})}});var aQ=2500,at=25;aZ(bs,aH,{handler:function(g,f,j){var i=j.pointerType==bW,h=j.pointerType==b2;if(!(h&&j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents)){if(i){br.call(this,f,j)}else{if(h&&bp.call(this,j)){return}}this.callback(g,f,j)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ag=aK(bM.style,"touchAction"),cf=ag!==a7,b0="compute",bB="auto",aX="manipulation",av="none",ai="pan-x",ci="pan-y",b3=bm();bo.prototype={set:function(b){b==b0&&(b=this.compute()),cf&&this.manager.element.style&&b3[b]&&(this.manager.element.style[ag]=b),this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var b=[];return a3(this.manager.recognizers,function(a){aW(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),bn(b.join(" "))},preventDefaults:function(t){var s=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented){return void s.preventDefault()}var q=this.actions,p=aP(q,av)&&!b3[av],o=aP(q,ci)&&!b3[ci],n=aP(q,ai)&&!b3[ai];if(p){var m=1===t.pointers.length,l=t.distance<2,k=t.deltaTime<250;if(m&&l&&k){return}}return n&&o?void 0:p||o&&r&b9||n&&r&bV?this.preventSrc(s):void 0},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()}};var bJ=1,a5=2,ay=4,al=8,cl=al,b7=16,bS=32;bl.prototype={defaults:{},set:function(b){return cj(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(a4(e,"recognizeWith",this)){return this}var c=this.simultaneous;return e=bh(e,this),c[e.id]||(c[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(b){return a4(b,"dropRecognizeWith",this)?this:(b=bh(b,this),delete this.simultaneous[b.id],this)},requireFailure:function(e){if(a4(e,"requireFailure",this)){return this}var c=this.requireFail;return e=bh(e,this),-1===aN(c,e)&&(c.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(a4(e,"dropRequireFailure",this)){return this}e=bh(e,this);var c=aN(this.requireFail,e);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(b){return !!this.simultaneous[b.id]},emit:function(f){function e(a){h.manager.emit(a,f)}var h=this,g=this.state;al>g&&e(h.options.event+bj(g)),e(h.options.event),f.additionalEvent&&e(f.additionalEvent),g>=al&&e(h.options.event+bj(g))},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=bS)},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(bS|bJ))){return !1}b++}return !0},recognize:function(e){var c=cj({},e);return aW(this.options.enable,[this,c])?(this.state&(cl|b7|bS)&&(this.state=bJ),this.state=this.process(c),void (this.state&(a5|ay|al|b7)&&this.tryEmit(c))):(this.reset(),void (this.state=bS))},process:function(b){},getTouchAction:function(){},reset:function(){}},aZ(bZ,bl,{defaults:{pointers:1},attrTest:function(e){var c=this.options.pointers;return 0===c||e.pointers.length===c},process:function(g){var f=this.state,j=g.eventType,i=f&(a5|ay),h=this.attrTest(g);return i&&(j&b5||!h)?f|b7:i||h?j&ck?f|al:f&a5?f|ay:a5:bS}}),aZ(bw,bZ,{defaults:{event:"pan",threshold:10,pointers:1,direction:bi},getTouchAction:function(){var e=this.options.direction,c=[];return e&b9&&c.push(ci),e&bV&&c.push(ai),c},directionTest:function(i){var h=this.options,n=!0,m=i.distance,l=i.direction,k=i.deltaX,j=i.deltaY;return l&h.direction||(h.direction&b9?(l=0===k?bN:0>k?a9:aA,n=k!=this.pX,m=Math.abs(i.deltaX)):(l=0===j?bN:0>j?an:cn,n=j!=this.pY,m=Math.abs(i.deltaY))),i.direction=l,n&&m>h.threshold&&l&h.direction},attrTest:function(b){return bZ.prototype.attrTest.call(this,b)&&(this.state&a5||!(this.state&a5)&&this.directionTest(b))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var c=b6(e.direction);c&&(e.additionalEvent=this.options.event+c),this._super.emit.call(this,e)}}),aZ(aT,bZ,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[av]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&a5)},emit:function(e){if(1!==e.scale){var c=e.scale<1?"in":"out";e.additionalEvent=this.options.event+c}this._super.emit.call(this,e)}}),aZ(au,bl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[bB]},process:function(g){var e=this.options,j=g.pointers.length===e.pointers,i=g.distance<e.threshold,h=g.deltaTime>e.time;if(this._input=g,!i||!j||g.eventType&(ck|b5)&&!h){this.reset()}else{if(g.eventType&ax){this.reset(),this._timer=a6(function(){this.state=cl,this.tryEmit()},e.time,this)}else{if(g.eventType&ck){return cl}}}return bS},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===cl&&(b&&b.eventType&ck?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=cm(),this.manager.emit(this.options.event,this._input)))}}),aZ(ah,bZ,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[av]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&a5)}}),aZ(cg,bZ,{defaults:{event:"swipe",threshold:10,velocity:0.3,direction:b9|bV,pointers:1},getTouchAction:function(){return bw.prototype.getTouchAction.call(this)},attrTest:function(f){var e,g=this.options.direction;return g&(b9|bV)?e=f.overallVelocity:g&b9?e=f.overallVelocityX:g&bV&&(e=f.overallVelocityY),this._super.attrTest.call(this,f)&&g&f.offsetDirection&&f.distance>this.options.threshold&&f.maxPointers==this.options.pointers&&am(e)>this.options.velocity&&f.eventType&ck},emit:function(e){var c=b6(e.offsetDirection);c&&this.manager.emit(this.options.event+c,e),this.manager.emit(this.options.event,e)}}),aZ(b1,bl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aX]},process:function(j){var e=this.options,p=j.pointers.length===e.pointers,o=j.distance<e.threshold,n=j.deltaTime<e.time;if(this.reset(),j.eventType&ax&&0===this.count){return this.failTimeout()}if(o&&n&&p){if(j.eventType!=ck){return this.failTimeout()}var m=this.pTime?j.timeStamp-this.pTime<e.interval:!0,l=!this.pCenter||bH(this.pCenter,j.center)<e.posThreshold;this.pTime=j.timeStamp,this.pCenter=j.center,l&&m?this.count+=1:this.count=1,this._input=j;var k=this.count%e.taps;if(0===k){return this.hasRequireFailures()?(this._timer=a6(function(){this.state=cl,this.tryEmit()},e.interval,this),a5):cl}}return bS},failTimeout:function(){return this._timer=a6(function(){this.state=bS},this.options.interval,this),bS},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bE.VERSION="2.0.8",bE.defaults={domEvents:!1,touchAction:b0,enable:!0,inputTarget:null,inputClass:null,preset:[[ah,{enable:!1}],[aT,{enable:!1},["rotate"]],[cg,{direction:b9}],[bw,{direction:b9},["swipe"]],[b1],[b1,{event:"doubletap",taps:2},["tap"]],[au]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bf=1,aB=2;a0.prototype={set:function(b){return cj(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function(b){this.session.stopped=b?aB:bf},recognize:function(h){var g=this.session;if(!g.stopped){this.touchAction.preventDefaults(h);var l,k=this.recognizers,j=g.curRecognizer;(!j||j&&j.state&cl)&&(j=g.curRecognizer=null);for(var i=0;i<k.length;){l=k[i],g.stopped===aB||j&&l!=j&&!l.canRecognizeWith(j)?l.reset():l.recognize(h),!j&&l.state&(a5|ay|al)&&(j=g.curRecognizer=l),i++}}},get:function(f){if(f instanceof bl){return f}for(var e=this.recognizers,g=0;g<e.length;g++){if(e[g].options.event==f){return e[g]}}return null},add:function(e){if(a4(e,"add",this)){return this}var c=this.get(e.options.event);return c&&this.remove(c),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(f){if(a4(f,"remove",this)){return this}if(f=this.get(f)){var e=this.recognizers,g=aN(e,f);-1!==g&&(e.splice(g,1),this.touchAction.update())}return this},on:function(f,e){if(f!==a7&&e!==a7){var g=this.handlers;return a3(aO(f),function(b){g[b]=g[b]||[],g[b].push(e)}),this}},off:function(f,e){if(f!==a7){var g=this.handlers;return a3(aO(f),function(b){e?g[b]&&g[b].splice(aN(g[b],e),1):delete g[b]}),this}},emit:function(f,e){this.options.domEvents&&aj(f,e);var h=this.handlers[f]&&this.handlers[f].slice();if(h&&h.length){e.type=f,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var g=0;g<h.length;){h[g](e),g++}}},destroy:function(){this.element&&aw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},cj(bE,{INPUT_START:ax,INPUT_MOVE:ak,INPUT_END:ck,INPUT_CANCEL:b5,STATE_POSSIBLE:bJ,STATE_BEGAN:a5,STATE_CHANGED:ay,STATE_ENDED:al,STATE_RECOGNIZED:cl,STATE_CANCELLED:b7,STATE_FAILED:bS,DIRECTION_NONE:bN,DIRECTION_LEFT:a9,DIRECTION_RIGHT:aA,DIRECTION_UP:an,DIRECTION_DOWN:cn,DIRECTION_HORIZONTAL:b9,DIRECTION_VERTICAL:bV,DIRECTION_ALL:bi,Manager:a0,Input:aH,TouchAction:bo,TouchInput:bv,MouseInput:bA,PointerEventInput:bz,TouchMouseInput:bs,SingleTouchInput:by,Recognizer:bl,AttrRecognizer:bZ,Tap:b1,Pan:bw,Swipe:cg,Pinch:aT,Rotate:ah,Press:au,on:aU,off:aS,each:a3,merge:bU,extend:b8,assign:cj,inherit:aZ,bindFn:aY,prefixed:aK});var ao="undefined"!=typeof be?be:"undefined"!=typeof self?self:{};ao.Hammer=bE,"function"==typeof define&&define.amd?define(function(){return bE}):"undefined"!=typeof module&&module.exports?module.exports=bE:be[bc]=bE}(window,document,"Hammer");$.ajaxSetup({cache:false});$.fn.hasScroll=function(){return this.get(0).scrollHeight>this.height()};$.fn.onEnter=function(a){$(this).keypress(function(b){if(b.keyCode==13){$(this).actionComponent(a)}})};function openPageDialog(c,f,e){StartLoading();var a="pageDialog_"+new Date().getTime();var b=$('<div id="'+a+'" title="'+f+'"/>').appendTo("body").load(c,function(){EndLoading();$("#"+a).dialog()})}function messageDiaLog(e,c,b){var a=$.extend({},b);$("<div id='alert-dialog' title='"+e+"'/>").append(c).appendTo("body").dialog(a)}$.fn.dialog=function(m){var h=$(this);if(h.data("dialog")){var e=h.data("dialog");e.open();return e}var j={ok:null,cancel:null,okText:"Ok",cancelText:"Cancel",closeBackground:false,of:"body",removeAfterClose:true,beforeClose:null};m=$.extend({},j,m);var b=h.attr("id")+"_dialog";var g=$('<div id="'+b+'" class="dialog-container"/>').appendTo(m.of);var k=$("<div class='dialog-body-close'/>");var f=$("<div class='dialog-box'/>");var a=$("<div class='dialog-header'>"+h.attr("title")+"</div>");var i=$(' <div class="dialog-content"></div>');var c=$("<div class='dialog-footer'></div>");function l(){g.append(f);f.append(a).append(i);i.append(h);h.addClass("dialog-main");var o=f.outerHeight(true)+60;var p=$(window).outerHeight(true);if(o>p){f.css("margin-top","0px")}var n=true;if(m.ok){f.append(c);if(m.ok){c.append("<button class='Button ok-button'>"+m.okText+"</button>");n=false}if(m.cancel){c.append("<button class='Button cancel-button'>"+m.cancelText+"</button>");n=false}}if(n){a.append("<a class='dialog-close fa fa-remove'></a>");g.append(k)}if(m.closeBackground){g.on("click",".dialog-body-close",function(){h.close()})}a.on("click",".dialog-close",function(){h.close()});c.on("click",".ok-button",function(){m.ok();h.close()}).on("click",".cancel-button",function(){m.cancel();h.close()})}h.close=function(){if(m.beforeClose){m.beforeClose()}if(m.removeAfterClose){g.remove()}else{g.setDisplay(false)}};h.open=function(){g.setDisplay(true);var n=f.outerHeight(true)+60;var o=$(window).outerHeight(true);if(n>o){f.css("margin-top","0px")}};l();h.data("dialog",h);return h};function getRealPosition(b,a){b=$(b).get(0);pos={x:0,y:0};while(b){pos.x+=b.offsetLeft;pos.y+=b.offsetTop;b=b.offsetParent;if(a){if($(b).is(a)){break}}}return pos}function AddClassSelectToLink(){$("a[href='"+window.location.pathname+"']").addClass("select")}$.fn.confirmAction=function(c,b,a){$(this).unbind("click");if(a){$(this).click(function(){messageDiaLog($(this).data("Title"),$(this).data("Message"),{ok:a,cancel:function(){}})})}};if(typeof console=="undefined"){this.console={log:function(){}}}function setCookie(e,c){if(window.widget){widget.setPreferenceForKey(encodeURIComponent(c),e)}else{document.cookie=e+"="+encodeURIComponent(c)+"; expires="+(new Date(new Date().getTime()+(360*24*60*60*1000))).toGMTString()+"; path=/"}}function getCookie(b){if(window.widget){return decodeURIComponent(widget.fileupload(b))||null}if(new RegExp(b+"=([^;]*);","").test(document.cookie+";")){b=decodeURIComponent(RegExp.$1);return b}return null}function setSession(e,c){if(new RegExp(e+"=([^;]*);","").test(window.name+";")){window.name=window.name.replace(new RegExp(e+"=([^;]*);",""),e+"="+encodeURIComponent(c)+";")}else{window.name+=e+"="+encodeURIComponent(c)+";"}}function getSession(b){if(new RegExp(b+"=([^;]*);","").test(window.name+";")){b=decodeURIComponent(RegExp.$1);return b}return null}function htmlEncode(a){return $("<div/>").text(a).html()}function htmlDecode(a){return $("<div/>").html(a).text()}var scriptLoaded=[];function addScriptTag(c,b){if(!scriptLoaded[c]){var a=document.createElement("script");a.type="text/javascript";a.src=c;document.getElementsByTagName("head")[0].appendChild(a);$.getScript(c,function(){if(b){b()}scriptLoaded[c]=true})}else{if(b){b()}}}function addLinkTag(b){if($("link[href='"+b+"']").size()==0){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href=b;document.getElementsByTagName("head")[0].appendChild(a)}}String.prototype.replaceAt=function(a,b){return this.substr(0,a)+b+this.substr(a+b.length)};$.fn.setSelection=function(c,e){if(this.length==0){return this}var b=this[0];if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",e);a.moveStart("character",c);a.select()}else{if(b.setSelectionRange){b.focus();b.setSelectionRange(c,e)}}return this};$.fn.getSelectionStart=function(){if(this.length==0){return -1}var a=this[0];var c=a.value.length;if(a.createTextRange){var b=document.selection.createRange().duplicate();b.moveEnd("character",a.value.length);if(b.text==""){c=a.value.length}else{c=a.value.lastIndexOf(b.text)}}else{if(typeof(a.selectionStart)!="undefined"){c=a.selectionStart}}return c};$.fn.getSelectionEnd=function(){if(this.length==0){return -1}var b=this[0];var e=b.value.length;if(b.createTextRange){var c=document.selection.createRange().duplicate();var a=$(b).val();c.moveStart("character",-a.length);if(c.text==""){e=a.length}else{e=a.lastIndexOf(c.text)}}else{if(typeof(b.selectionEnd)!="undefined"){e=b.selectionEnd}}return e};function isNumber(a){return !isNaN(parseFloat(a))&&isFinite(a)}function addKeyValue(c,a,b){if(b==null||b==undefined){return c}if(c!=""){c+=","}c+=[a]+":"+JSON.stringify(b);return c}$.fn.params=function(){var e=$(this);var c=e.attr("runnat");var f="";f=addKeyValue(f,"ID",e.attr("id"));if(c=="TimeBox"){f=addKeyValue(f,"Ticks",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"))}else{if(c=="TextBox"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"MemberText",e.data("MemberText"));f=addKeyValue(f,"MemberValue",e.data("MemberValue"));f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"))}else{if(c=="HiddenBox"){f=addKeyValue(f,"EncryptValue",e.getVal())}else{if(c=="TextArea"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"))}else{if(c=="CheckBox"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"))}else{if(c=="RadioButton"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"MemberValue",e.data("MemberValue"));f=addKeyValue(f,"MemberText",e.data("MemberText"));f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"));f=addKeyValue(f,"SelectFirst",e.data("SelectFirst"))}else{if(c=="SelectBox"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"MemberValue",e.data("MemberValue"));f=addKeyValue(f,"MemberText",e.data("MemberText"));f=addKeyValue(f,"HasDefault",e.data("HasDefault"));f=addKeyValue(f,"DefaultText",e.data("DefaultText"));f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"))}else{if(c=="RatingBox"){f=addKeyValue(f,"Value",e.getVal())}else{if(c=="CkEditor"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"))}else{if(c=="IntBox"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"));f=addKeyValue(f,"HasValue",e.data("HasValue"))}else{if(c=="SelectDate"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"));f=addKeyValue(f,"ShowTime",e.data("ShowTime"))}else{if(c=="Calendar"){f=addKeyValue(f,"Value",e.getVal())}else{if(c=="DecimalBox"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"));f=addKeyValue(f,"HasValue",e.data("HasValue"))}else{if(c=="GridView"){f=addKeyValue(f,"TypeName",e.data("TypeName"));f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"QueryEncode",e.data("QueryEncode"));f=addKeyValue(f,"MemberValue",e.data("MemberValue"));f=addKeyValue(f,"DisplayCount",e.data("DisplayCount"));f=addKeyValue(f,"CurrentPage",e.data("CurrentPage"));f=addKeyValue(f,"SelectMultiple",e.data("SelectMultiple"));f=addKeyValue(f,"ListColumn",e.data("ListColumn"));f=addKeyValue(f,"Height",e.data("Height"));f=addKeyValue(f,"SortBy",e.data("SortBy"));f=addKeyValue(f,"SortType",e.data("SortType"));f=addKeyValue(f,"PagingParam",e.data("PagingParam"));f=addKeyValue(f,"RenderHtmlHeader",e.data("RenderHtmlHeader"));var b=e.data("UseModel");if(b){f=addKeyValue(f,"Model",e.data("Model"))}f=addKeyValue(f,"UseModel",b)}else{if(c=="DataList"){f=addKeyValue(f,"QueryEncode",e.data("QueryEncode"));f=addKeyValue(f,"Template",e.data("Template"));f=addKeyValue(f,"DisplayCount",e.data("DisplayCount"));f=addKeyValue(f,"CurrentPage",e.data("CurrentPage"));f=addKeyValue(f,"PagingParam",e.data("PagingParam"));var b=e.data("UseModel");if(b){f=addKeyValue(f,"Model",e.data("Model"))}f=addKeyValue(f,"UseModel",b)}else{if(c=="FileUpload"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"OldValue",e.data("OldValue"));f=addKeyValue(f,"FileType",e.data("FileType"));f=addKeyValue(f,"MaxFile",e.data("MaxFile"));f=addKeyValue(f,"FileSizeEncode",e.data("FileSizeEncode"));f=addKeyValue(f,"ImageWidth",e.data("ImageWidth"));f=addKeyValue(f,"ImageHeight",e.data("ImageHeight"));f=addKeyValue(f,"Fix",e.data("Fix"));f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"));f=addKeyValue(f,"FolderUpload",e.data("FolderUpload"))}else{if(c=="CaptchaBox"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"ValidateMsg",e.data("ValidateMsg"))}else{if(c=="ColorPicker"){f=addKeyValue(f,"Value",e.getVal())}else{if(c=="Tree"){f=addKeyValue(f,"Value",e.getVal());f=addKeyValue(f,"FieldParent",e.data("FieldParent"));f=addKeyValue(f,"MemberValue",e.data("MemberValue"));f=addKeyValue(f,"MemberText",e.data("MemberText"));f=addKeyValue(f,"DefaultHref",e.data("DefaultHref"));f=addKeyValue(f,"HasDefault",e.data("HasDefault"));f=addKeyValue(f,"DefaultText",e.data("DefaultText"));f=addKeyValue(f,"SelectMultiple",e.data("SelectMultiple"));f=addKeyValue(f,"QueryEncode",e.data("QueryEncode"));f=addKeyValue(f,"Template",e.data("Template"));f=addKeyValue(f,"RequiredMsg",e.data("RequiredMsg"));var b=e.data("UseModel");if(b){f=addKeyValue(f,"Model",e.data("Model"))}f=addKeyValue(f,"UseModel",b)}else{if(c=="TabLanguages"){var a=[];$("#"+e.attr("id")+" .Window").not("#"+e.attr("id")+" .Window .Window").each(function(g,h){a.push($(h).data("entity"))});f=addKeyValue(f,"Model",a);f=addKeyValue(f,"EntityName",e.data("EntityName"))}else{if(c=="Validate"){var a=[];$(".Valid",e).each(function(g,h){a.push($(h).attr("id"))});f=addKeyValue(f,"Model",a)}}}}}}}}}}}}}}}}}}}}}return encodeURIComponent("{"+f+"}")};$.fn.getVal=function(){var b=$(this);var a=b.attr("runnat");var c="";if(a=="TextArea"||a=="SelectBox"||a=="HiddenBox"){c=b.val()}else{if(a=="TextBox"){c=b.textbox().getValue()}else{if(a=="CheckBox"){c=b.is(":checked")}else{if(a=="IntBox"||a=="DecimalBox"){c=b.intbox().getValue()}else{if(a=="RadioButton"){c=$("input:checked",b).val()}else{if(a=="CkEditor"){b.data("DoFollowAdd",0);if(b.data("editor")){c=b.data("editor").getData()}}else{if(a=="TimeBox"){c=b.timebox().getTime()}else{if(a=="GridView"){c=b.data("selected")}else{if(a=="ColorPicker"){c=b.data("value")}else{if(a=="RatingBox"){c=b.rating().getValue()}else{if(a=="Tree"){c=b.data("selected")}else{if(a=="FileUpload"){c="";$(".list-file .file",b).each(function(f,g){if(c!=""){c+=","}c+=$(g).attr("data")})}else{if(a=="SelectDate"){c=b.selectDate().getValue()}else{if(a=="Calendar"){c=b.calendar().getValue()}else{if(a=="CaptchaBox"){c=$("input",b).val()}}}}}}}}}}}}}}}return c};$.fn.getParams=function(){var b="";var a=$(this).attr("id");var c=$("#"+a+" *[runnat]").not("#"+a+" .Window *[runnat]");$.each(c,function(g,h){var f=$(h).params();b+="&"+$(h).attr("id")+"="+f});return b};function getWindow(a){var b=null;if($("#"+a).size()>0){b=$("#"+a)}else{$(".Window[apply]").each(function(c,g){var f=$(g).attr("id").split("_")[0];if(a==f){b=$(g)}})}return b}$.fn.setParam=function(a,c){var b=$(this);pr=b.data("paramPage");if(!pr){pr=""}pr=pr.setParameter(a,JSON.stringify(c));b.data("paramPage",pr)};String.prototype.setParameter=function(c,f){var g=this;var b={},e=/([^&=]+)=([^&]*)/g,a;while(a=e.exec(g)){b[decodeURIComponent(a[1])]=decodeURIComponent(a[2])}b[c]=f;return $.param(b)};function setParamForLocation(e,f){e=escape(e);f=escape(f);var b=document.location.search.substr(1).split("&");if(b==""){return window.location.pathname+"?"+e+"="+f}else{var c=b.length;var a;while(c--){a=b[c].split("=");if(a[0]==e){a[1]=f;b[c]=a.join("=");break}}if(c<0){b[b.length]=[e,f].join("=")}return window.location.pathname+"?"+b.join("&")}}$.fn.actionComponent=function(a,b){if(a){$(this).getApply().actionMethod(a,b)}};$.fn.actionMethod=function(a,c){if(!a){return}StartLoading();var b=$(this);var e=encodeURIComponent(b.attr("apply"));var f=b.getParams();if(b.data("paramPage")){f+="&"+b.data("paramPage")}$.ajax({type:"POST",data:"winId="+b.attr("id")+"&apply="+e+"&m="+a+f,url:"/Code/Web/WebService.asmx/DoAction",success:function(i,j,g){var h=JSON.parse($(i).contents().text());if(h.Success){$("body").append("<div class='script-action'>"+h.Content+"</div>");$(".script-action").remove();if(c){c()}}else{messageDiaLog("Error",h.Content)}EndLoading()},error:function(g,i,h){messageDiaLog("Error",i);EndLoading()}})};$.fn.actionMethod1=function(a,c){if(!a){return}var b=$(this);var e=encodeURIComponent(b.attr("apply"));var f=b.getParams();if(b.data("paramPage")){f+="&"+b.data("paramPage")}$.ajax({type:"POST",data:"winId="+b.attr("id")+"&apply="+e+"&m="+a+f,url:"/Code/Web/WebService.asmx/DoAction",success:function(i,j,g){var h=JSON.parse($(i).contents().text());if(h.Success){$("body").append("<div class='script-action'>"+h.Content+"</div>");$(".script-action").remove();if($.isFunction(c)){c()}}}})};$.fn.paging=function(c,g,b,e){StartLoading();ScrollToElement($("#"+g));var a=$(this);var f=a.getParams();$.ajax({type:"POST",data:"type="+c+"&cid="+g+"&currentPage="+b+f,url:"/Code/Web/WebService.asmx/Paging",success:function(j,k,h){var i=JSON.parse($(j).contents().text());if(i.Success){$("body").append(i.Content)}else{messageDiaLog("Error",i.Content)}if($.isFunction(e)){e()}EndLoading()},error:function(h,j,i){messageDiaLog("Error",j);EndLoading()}})};function ScrollToElement(a){$("html, body").animate({scrollTop:$(a).offset().top},300)}function respondseFileUpload(c,e,a){var b=JSON.parse($(c).contents().text());if(b.Success){var f=JSON.parse(b.Content);$("#"+f.cid).fileUpload().Value(f.fileName);$("#"+f.cid).actionComponent($("#"+f.cid).data("OnAfterUpload"))}else{messageDiaLog("Error",b.Content)}EndLoading()}$.fn.fileUpload=function(){var a=$(this);if($(this).data("fileupload")){return $(this).data("fileupload")}function c(){var e=$("input[type=file]",a);a.on("click",".list-file .close",function(){$(this).parent().remove();$(".file-input",a).css("display","block")});a.ajaxForm({success:respondseFileUpload});a.on("change","input[type=file]",function(){var l=$(this).val();var i=a.data("FileType").split(",");if(l.length>0){var k=false;if(a.data("FileType")=="*"){k=true}else{for(var h=0;h<i.length;h++){var g="."+i[h];if(l.substr(l.length-g.length,g.length).toLowerCase()==g.toLowerCase()){k=true;break}}}if(!k){messageDiaLog("Error","Sorry, "+l+" is invalid, allowed extensions are: "+i.join(", "));$(this).val(null);return false}else{var f=a.data("MaxFile")-$(".list-file li",a).size();if(a.data("MaxFile")==1||a.data("MaxFile")==undefined){f=1}a.attr("action","/Code/Web/WebService.asmx/UploadFile?cid="+a.attr("id")+"&fileSize="+encodeURIComponent(a.data("FileSizeEncode"))+"&folder="+encodeURIComponent(a.data("FolderUpload"))+"&fileRemain="+f);a.submit();a.attr("action","");StartLoading()}}});a.Value=function(h){if(a.data("MaxFile")==1||a.data("MaxFile")==undefined){$(".list-file li",a).remove();if(h!=""){var j=b(h)?h:"/code/web/images/file-icon.png";var f='<a target="_blank" href="'+h+"\"><img src='"+j+"'/></a>";$(".list-file",a).append($("<li/>").addClass("file").attr("data",h).append(f));if(a.data("CanDelete")){var g=$('<div class="close"/>');$(".list-file .file",a).append(g)}}}else{h+="";var i=h.split(",");$(i).each(function(l,m){if(m!=""){var o=b(m)?m:"/code/web/images/file-icon.png";var k='<a target="_blank" href="'+m+"\"><img src='"+o+"'/></a>";var n=$('<div class="close"/>');$(".list-file",a).append($("<li/>").addClass("file").attr("data",m).append(k).append(n))}});if(a.data("MaxFile")<=$(".list-file li",a).size()){$(".file-input",a).css("display","none")}}}}function b(e){return(e.match(/\.(jpeg|jpg|gif|png|JPEG|JPG)$/)!=null)}c();$(this).data("fileupload",a);return a};var listCkeditor=[];var loadScriptCkeditor=false;$.fn.ckEditor=function(b){if(!loadScriptCkeditor){var a={obj:$(this),type:b};listCkeditor.push(a);if(listCkeditor.length==1){addScriptTag("/Code/Web/Scripts/ckeditor/ckeditor.js",function(){addScriptTag("/Code/Web/Scripts/ckeditor/ckfinder/ckfinder.js",function(){loadScriptCkeditor=true;$(listCkeditor).each(function(c,f){$(f.obj).loadCkeditor(f.type)});listCkeditor=[]})})}}else{$(this).loadCkeditor(b)}};$.fn.loadCkeditor=function(g){CKEDITOR.env.isCompatible=true;var f=$(this);var i=$(this).attr("id");var b=$(this).data("Width");var e=$(this).data("Height");var a=CKEDITOR.instances[i];if(a){CKEDITOR.remove(a)}CKEDITOR.disableAutoInline=true;var c=null;if(g=="Full"){c=CKEDITOR.replace(i);CKFinder.setupCKEditor(c,"/Code/Web/Scripts/ckeditor/ckfinder")}else{if(g=="Simple"){c=CKEDITOR.replace(i,{toolbar:[["Bold","Italic","-","NumberedList","BulletedList","-","Link","Unlink","Image"],["FontSize","TextColor","Blockquote","RemoveFormat"]],Width:b,Height:e})}else{if(g="Medium"){c=CKEDITOR.replace(i,{toolbar:[{name:"document",items:["DocProps","Preview","Print","-","Templates"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","SpellChecker","Scayt"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},"/",{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Table"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]}],Width:b,Height:e})}}}c.on("instanceReady",function(){if(f.data("DoFollow")!=undefined){c.dataProcessor.htmlFilter.addRules({elements:{a:function(h){var j=parseInt(f.data("DoFollow"));var k=0;if(f.data("DoFollowAdd")){k=parseInt(f.data("DoFollowAdd"))}if(k>=j){f.data("DoFollowAdd",k+1);if(!h.attributes.rel){h.attributes.rel="nofollow"}}}}})}if(f.data("Value")){c.setData($("#"+i).data("Value"))}if(f.data("ReadOnly")){c.setReadOnly($("#"+i).data("ReadOnly"))}if(f.data("Display")){$("#cke_"+i).setDisplay($("#"+i).data("Display"))}});f.data("editor",c)};$.fn.setDisplay=function(a){if(a){$(this).removeClass("hide")}else{$(this).addClass("hide")}};$.fn.getApply=function(){return $($(this).closest(".Window[apply]"))};function StartLoading(){var a='<div id="loadingPage" style=""></div>';$("body").append(a)}function EndLoading(){$("#loadingPage").remove()}$.fn.intbox=function(){var a=$(this);if($(this).data("intbox")){return $(this).data("intbox")}function b(){var c=false;a.change(function(){c=true;var e=a.val();if(e==""&&a.data("HasValue")){a.val(0)}a.format()});a.focusout(function(g){var e=a.data("valdata");var f=a.val();if(e!=f){if(!c){a.change()}}c=false});a.focusin(function(e){a.data("valdata",a.val())});a.keyup(function(k){if(a.data("FormatNumber")==undefined||a.data("FormatNumber")==true){var g=a.val();if(g.length>1){var l="#,##0";var j=g.indexOf(".");if(j!=-1){var e=g.length-j-2;l+=".0";for(var h=0;h<e;h++){l+="0"}}if((g.length-1)!=j){if(a.val()!=""){a.parseNumber({format:l});a.formatNumber({format:l})}}}}});if(a.val()==""&&a.data("HasValue")){a.val(0)}a.format()}a.spinner=function(){var f=a.attr("id");var c=f+"_spinner";a.wrap("<div id='"+c+"' class='spinner-box'/>");var e=$("#"+c);e.append("<a class='spinner-add'>+</a>");e.prepend("<a class='spinner-sub'>-</a>");e.on("click",".spinner-add",function(){v=a.getValue();if(v==""){v=0}v++;a.val(v).change()}).on("click",".spinner-sub",function(){v=a.getValue();if(v==""){v=0}v--;a.val(v).change()})};a.format=function(){if(a.val()!=""){if(a.data("FormatNumber")==undefined||a.data("FormatNumber")==true){a.parseNumber({format:"#,##0.##"});a.formatNumber({format:"#,##0.##"})}}};a.getValue=function(){var c=a.val();if(c==""){return""}a.format();number=$.parseNumber(c,{format:"#,##0.##"})+0;return number};b();$(this).data("intbox",a);return a};$.fn.gridview=function(){var a=$(this);if($(this).data("gridview")){return $(this).data("gridview")}function b(){a.selectMultiple(false);a.on("click",".paging .page",function(){$(this).getApply().paging(a.attr("runnat"),a.attr("id"),$(this).attr("data"))});a.on("click",".header-field[sortby]",function(){$(".header-field[sortby]",a).removeClass("sort_desc");$(".header-field[sortby]",a).removeClass("sort_asc");if(!a.data("SortType")){a.data("SortType","asc");$(this).addClass("sort_asc")}if(!a.data("SortBy")){a.data("SortBy",$(this).attr("sortby"))}else{if(a.data("SortBy")==$(this).attr("sortby")){if(a.data("SortType")=="asc"){a.data("SortType","desc");$(this).addClass("sort_desc")}else{a.data("SortType","asc");$(this).addClass("sort_asc")}}else{a.data("SortType","asc");$(this).addClass("sort_asc")}a.data("SortBy",$(this).attr("sortby"))}$(this).getApply().paging(a.attr("runnat"),a.attr("id"),1)})}a.selectMultiple=function(c){a.off("click",".row-field .field-select");a.off("click",".row-header .field-select");a.off("click",".row-field");a.removeClass("select-multiple");if(c){a.addClass("select-multiple");a.on("click",".row-field .field-select",function(h){var g=$(this).parent();if(!g.hasClass("selected")){g.addClass("selected")}else{g.removeClass("selected")}var f="";$(".row-field.selected",a).each(function(j,k){if(f!=""){f+=","}f+=$(k).attr("data")});a.data("selected",f);a.actionComponent(a.data("OnSelect"))});a.on("click",".row-header .field-select",function(g){if(!$(this).hasClass("checked")){$(this).addClass("checked");$(".row-field",a).addClass("selected")}else{$(".row-field",a).removeClass("selected");$(this).removeClass("checked")}var f="";$(".row-field.selected",a).each(function(h,j){if(f!=""){f+=","}f+=$(j).attr("data")});a.data("selected",f);a.actionComponent(a.data("OnSelect"))})}else{a.on("click",".row-field",function(g){$(".row-field",a).removeClass("selected");$(this).addClass("selected");var f="";$(".row-field.selected",a).each(function(h,j){if(f!=""){f+=","}f+=$(j).attr("data")});a.data("selected",f);a.actionComponent(a.data("OnSelect"))})}};a.select=function(e){$(".row-field",a).removeClass("selected");if(!e){e=""}e+="";var c="";$(e.split(",")).each(function(g,h){if(h!=""){var f=$(".row-field[data='"+h+"']",a);if(f.size()>=1){if(c!=""){c+=","}c+=h;f.addClass("selected")}}});a.data("selected",c)};a.itemDoubleClick=function(c){a.off("dblclick",".row-field");if(c){a.on("dblclick",".row-field",function(){$(".row-field",a).removeClass("selected");$(this).addClass("selected");a.data("selected",$(this).attr("data"));$(this).actionComponent(c)})}};a.reloadPaging=function(){var f=parseInt(a.data("PageCount"));var h=a.data("PagingParam");var j=parseInt(a.data("CurrentPage"));var c="";var n=4;for(var g=j-4;g<=j;g++){if(g>0){var o="page";if(j==g){o="page selected"}var e="";if(h){e="href='"+setParamForLocation(h,g)+"'"}c+="<a "+e+' class="'+o+'" data="'+g+'">'+g+"</a>";n--}}for(var g=j+1;g<=j+6+n;g++){if(g<=f){var o="page";if(j==g){o="page selected"}var e="";if(h){e="href='"+setParamForLocation(h,g)+"'"}c+="<a "+e+' class="'+o+'" data="'+g+'">'+g+"</a>"}}$(".paging",a).html(c);if(f<=1||isNaN(f)){a.showPaging(false)}else{a.showPaging(true)}if(a.data("OnAfterPaging")){a.actionComponent(a.data("OnAfterPaging"))}var l=$(".hide");l.removeClass("hide");var k=$(".grid-content",a).height();var m=$(".grid-content>table",a).height();if(k<m){$(".grid-header",a).css("overflow-y","scroll")}else{$(".grid-header",a).css("overflow-y","hidden")}$(".grid-header",a).html($(".grid-header",a).html());l.addClass("hide");if(a.data("Disabled")!=undefined){a.disable(a.data("Disabled"))}};a.showPaging=function(c){$(".paging",a).setDisplay(c)};a.disable=function(c){a.data("Disabled",c);if(c){var i=$("<div class='disable-container'/>");var g=$("<div class='disable-container'/>");$(".grid-content",a).append(i);$(".grid-header",a).append(g);var f=$(".grid-content table",a).outerHeight(true);var e=$(".grid-header table",a).outerHeight(true);i.css("height",f);g.css("height",e)}else{$(".disable-container",a).remove()}};b();$(this).data("gridview",a);return a};$.fn.datalist=function(){var a=$(this);if($(this).data("datalist")){return $(this).data("datalist")}function b(){a.on("click",".paging .page",function(){$(this).getApply().paging(a.attr("runnat"),a.attr("id"),$(this).attr("data"))})}a.reloadPaging=function(){var g=parseInt(a.data("PageCount"));var l=a.data("PagingParam");var k=parseInt(a.data("CurrentPage"));var f="";var j=4;for(var h=k-4;h<=k;h++){if(h>0){var c="page";if(k==h){c="page selected"}var e="";if(l){e="href='"+setParamForLocation(l,h)+"'"}f+="<a "+e+' class="'+c+'" data="'+h+'">'+h+"</a>";j--}}for(var h=k+1;h<=k+6+j;h++){if(h<=g){var c="page";if(k==h){c="page selected"}var e="";if(l){e="href='"+setParamForLocation(l,h)+"'"}f+="<a "+e+' class="'+c+'" data="'+h+'">'+h+"</a>"}}$(".paging",a).html(f);if(g<=1||isNaN(g)){a.showPaging(false)}else{a.showPaging(true)}a.actionComponent(a.data("OnAfterPaging"))};a.showPaging=function(c){$(".paging",a).setDisplay(c)};b();$(this).data("datalist",a);return a};$.fn.tabLanguages=function(a){var c=$(this);if($(this).data("tabLanguages")){return $(this).data("tabLanguages")}var b={allowDelete:false};a=$.extend({},b,a);var e=c.attr("id")+"_selectLang";function f(){c.tabbox({allowDelete:a.allowDelete,actionAfterDelete:function(){var g="";$(a.listLanguage).each(function(h,j){if($(".TabContent[editlang='"+j.LanguageId+"']",c).size()==0){g+='<option value="'+j.LanguageId+'">'+j.Name+"</option>"}});$("#"+e).html(g);if(g==""){$("#"+e,c).parent().setDisplay(false)}else{$("#"+e,c).parent().setDisplay(true)}}});$("#"+c.attr("id")+">.tabbox-name").append('<li class="tab-add-lang"><select id="'+e+'" class="cboLang"></select><span class="fa fa-plus"></span></li>');$("#"+c.attr("id")+">.tabbox-name").on("click",".tab-add-lang span",function(){c.appendTab($("#"+e).val())})}c.SaveData=function(i){var k=$("#"+c.attr("id")+">.TabContent .Window").not("#"+c.attr("id")+">.TabContent .Window .Window");var j=true;var h=0;var g=0;k.each(function(l,m){$(m).actionMethod("DoValidate",function(){if($(m).data("validate")==false){j=false}h++;if(h==k.size()){c.actionComponent("DoValidate",function(){if(c.data("validate")==false){j=false}if(j){k.each(function(n,p){$(p).actionMethod("DoSave",function(){g++;if(g==k.size()){if($.isFunction(i)){setTimeout(i(),100)}}})})}})}})})};c.appendTab=function(h){var g="";$(a.listLanguage).each(function(j,k){if(k.LanguageId==h){c.tabbox().appendTab(k.Name,'<div id="tab_append'+h+'" editlang="'+h+'"></div>');$("#tab_append"+h,c).load(k.Url)}});$("#"+e,c).parent().remove();$("#"+c.attr("id")+">.tabbox-name").append('<li class="tab-add-lang"><select id="'+e+'" class="cboLang"></select><span class="fa fa-plus"></span></li>');$(a.listLanguage).each(function(j,k){if($(".TabContent[editlang='"+k.LanguageId+"']",c).size()==0){g+='<option value="'+k.LanguageId+'">'+k.Name+"</option>"}});$("#"+e,c).html(g);if(g==""){$("#"+e,c).parent().setDisplay(false)}else{$("#"+e,c).parent().setDisplay(true)}};f();$(this).data("tabLanguages",c);return c};$.fn.tree=function(){var a=$(this);if($(this).data("tree")){return $(this).data("tree")}function b(){a.on("click",".tree-item",function(){if(!a.data("SelectMultiple")){var c=$(this).parent();if(!a.attr("SelectMultiple")){$("li",a).removeClass("selected");c.addClass("selected");a.data("selected",c.attr("data"))}a.actionComponent(a.data("OnSelect"))}});a.on("click",".tree-icon",function(){var c=$(this).parent();if(c.hasClass("open")){c.removeClass("open")}else{c.addClass("open")}});a.on("change",".tree-check",function(){if(a.data("SelectMultiple")){var e=$(this).parent();if($(this).is(":checked")){$(".tree-check",e).prop("checked",true);var f=e.parents("li",a);f.each(function(g,h){var j=$(h).attr("id");$("#"+j+">.tree-check").prop("checked",true)})}else{$(".tree-check",e).prop("checked",false)}var c="";$(".tree-check:checked",a).each(function(g,j){var h=$(j).parent();if(c!=""){c+=","}c+=h.attr("data")});a.data("selected",c);a.actionComponent(a.data("OnSelect"))}});a.reload()}a.select=function(f){if(!f){f=""}if(!a.attr("SelectMultiple")){var e=$("li[data='"+f+"']",a);$("li",a).removeClass("selected");e.addClass("selected");$("li",a).removeClass("open");e.addClass("open");$("li",a).each(function(g,h){if($("li[data='"+f+"']",h).size()>0){$(h).addClass("open")}});a.data("selected",f)}else{$("li",a).removeClass("open");$(".tree-check",a).prop("checked",false);$(f.split(",")).each(function(g,h){$("li[data='"+h+"']",a).addClass("open");$("li[data='']",a).addClass("open");$("li[data='"+h+"']>.tree-check",a).prop("checked",true)});$("li",a).each(function(g,h){if($("li.open",h).size()>0){$(h).addClass("open")}});var c="";$(".tree-check:checked",a).each(function(g,j){var h=$(j).parent();if(c!=""){c+=","}c+=h.attr("data")});a.data("selected",c)}};a.reload=function(){var c=a.attr("id");$("li",a).each(function(f,g){if($("li",g).size()==0){$(g).addClass("end");$("ul",g).remove()}$(g).attr("id",c+"_"+f)})};a.OnDoubleClick=function(c){a.off("dblclick",".tree-item");if(c){a.on("dblclick",".tree-item",function(){a.actionComponent(c)})}};b();$(this).data("tree",a);return a};$.fn.selectDate=function(m){var i=$(this);if(i.data("selectDate")){return i.data("selectDate")}var b=new Date();var k={defaultTextDay:"",defaultTextMonth:"",defaultTextYear:"",days:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","Octorber","November","December"],fromYear:b.getFullYear()-100,toYear:b.getFullYear()+100,disableDate:[]};var m=$.extend({},k,m);var e=i.attr("id")+"_cal_container";var j=i.attr("id")+"_cal";var a=i.attr("id")+"_time_container";var c=i.attr("id")+"_time";function l(){i.html("<div class='t-group1'><input class='t-day'/><span class=\"s-sep\">/</span><input class='t-month'/><span class=\"s-sep\">/</span><input class='t-year'/><div class='s-cal fa fa-calendar'></div></div><div class='t-group2 hide'><input class='t-hour'/><span class=\"s-sep\">:</span><input class='t-minute'/><span class=\"s-time fa fa-clock-o\"></span></div>");$(".t-hour",i).formatNumber({format:"00"});$(".t-minute",i).formatNumber({format:"00"});i.on("change",".t-month",function(){$(this).formatNumber({format:"#"});var n=$(this).val();if(n!=""){n=parseInt(n);if(n>12){n=12}else{if(n<1){n=1}}$(this).val(n);f()}}).on("change",".t-day",function(){$(this).formatNumber({format:"#"});f()}).on("change",".t-year",function(){$(this).formatNumber({format:"#"});var n=$(this).val();if(n!=""){n=parseInt(n);if(n>m.toYear){n=m.toYear}else{if(n<m.fromYear){n=m.fromYear}}$(this).val(n);f()}}).on("change",".t-hour",function(){$(this).formatNumber({format:"00"});var n=$(this).val();n=parseInt(n);if(n>23){n=23}else{if(n<0){n=0}}$(this).val(n);$(this).formatNumber({format:"00"});i.onChange()}).on("change",".t-minute",function(){$(this).formatNumber({format:"00"});var n=$(this).val();n=parseInt(n);if(n>59){n=59}else{if(n<0){n=0}}$(this).val(n);$(this).formatNumber({format:"00"});i.onChange()}).on("click","input",function(){$(this).select()});g();h()}function g(){i.on("click",".s-cal",function(){if(!$(this).hasClass("open")){$(this).addClass("open");var n=$('<div id="'+j+'"/>');var r=$('<div id="'+e+"\" class='container-out-size'/>");r.appendTo("body").click(function(){r.remove();n.remove();$(".s-cal",i).removeClass("open")});n.addClass("select-date-calendar").appendTo("body").calendar({disableDate:m.disableDate,onSelectDate:function(t){$(".t-day",i).val(t.getDate());$(".t-month",i).val(t.getMonth()+1);$(".t-year",i).val(t.getFullYear());r.remove();n.remove();$(".s-cal",i).removeClass("open");i.onChange()},fromYear:m.fromYear,toYear:m.toYear});n.position({of:i,my:"right bottom",at:"right top"})}if(i.getValue()==null){var s=new Date();s.setHours(0,0,0,0);i.setValue(s)}var p=$(".t-year",i).val();var o=$(".t-day",i).val();var q=$(".t-month",i).val();$("#"+j).calendar().setValue(new Date(p,q-1,o))})}function h(){i.on("click",".s-time",function(){if(!$(this).hasClass("open")){$(this).addClass("open");var n=$('<div id="'+c+'"/>');var p=$('<div id="'+a+"\" class='container-out-size'/>");p.appendTo("body").click(function(){p.remove();n.remove();$(".s-time",i).removeClass("open")});n.addClass("select-date-time").appendTo("body").timeselect({onSelectMinute:function(r,q){$(".t-minute",i).val(q);$(".t-hour",i).val(r);p.remove();n.remove();$(".s-time",i).removeClass("open");i.onChange()},onSelectHour:function(r,q){$(".t-minute",i).val(q);$(".t-hour",i).val(r);i.onChange()}});n.position({of:i,my:"right bottom",at:"right top"})}$(".t-hour",i).formatNumber({format:"00"});$(".t-minute",i).formatNumber({format:"00"});var o=$("#"+c).timeselect();$("#"+c).scrollTop((parseInt($(".t-hour",i).val())*2*30));o.setValue($(".t-hour",i).val(),$(".t-minute",i).val())})}function f(){if($(".t-day",i).val()!=""){var n=parseInt($(".t-day",i).val());var q=parseInt($(".t-month",i).val());var o=parseInt($(".t-year",i).val());if(n>31){n=31}var p=new Date(o,q,0).getDate();if(n>p){n=p}else{if(n<1){n=1}}$(".t-day",i).val(n);i.onChange()}}i.onChange=function(){var o=$(".t-year",i).val();var n=$(".t-day",i).val();var p=$(".t-month",i).val();$(".t-hour",i).formatNumber({format:"00"});$(".t-minute",i).formatNumber({format:"00"});if(o!=""&&n!=""&&p!=""){if(i.data("OnChange")){i.actionComponent(i.data("OnChange"))}}};i.setDisable=function(n){if(n){i.addClass("disabled");$("input",i).attr("disabled","disabled");i.off("click",".s-cal");i.off("click",".s-time")}else{i.removeClass("disabled");$("input",i).removeAttr("disabled");g();h()}};i.setDisableDate=function(n){if(n){$("input",i).attr("disabled","disabled")}else{$("input",i).removeAttr("disabled")}m.disableDate=n};i.getValue=function(){var q=$(".t-year",i).val();var o=$(".t-day",i).val();var r=$(".t-month",i).val();if(q==""||o==""||r==""){return null}var p=$(".t-hour",i).val();var n=$(".t-minute",i).val();if(p==""){p=0}else{p=parseInt(p)}if(n==""){n=0}else{n=parseInt(n)}return new Date(q,r-1,o,p,n,0)};i.showTime=function(n){$(".t-group2",i).setDisplay(n);$(".t-hour",i).val("");$(".t-minute",i).val("")};i.setValue=function(p){if(p){var q=p.getFullYear();var o=p.getDate();var n=p.getHours();var s=p.getMinutes();var r=p.getMonth()+1;$(".t-day",i).val(o);$(".t-month",i).val(r);$(".t-year",i).val(q);$(".t-hour",i).val(n).formatNumber({format:"00"});$(".t-minute",i).val(s).formatNumber({format:"00"})}else{$(".t-day",i).val("");$(".t-month",i).val("");$(".t-year",i).val("");$(".t-hour",i).val("");$(".t-minute",i).val("")}};l();i.data("selectDate",i);return i};$.fn.timeselect=function(a){var c=$(this);if(c.data("time")){return c.data("time")}var b={onSelectMinute:null};a=$.extend({},b,a);function e(){c.hour=0;c.minute=0;c.addClass("time-select-box");c.html("<div class='title-time-select'></div><div class='time-option'></div><div class='clear'></div>");c.showHour();c.on("click",".h-item",function(){c.hour=$(this).attr("data");c.minute=$(this).attr("data-m");$(".h-item",c).removeClass("select");$(this).addClass("select");if(a.onSelectHour){a.onSelectHour(c.hour,c.minute)}})}c.showHour=function(){var l=0;var j=24;$(".time-option",c).html("");for(var h=l;h<j;h++){var g="h-item";if(c.hour==h&&c.minute==0){g+=" select"}var k="AM";if(h>=12){k="PM"}var f=$("<a class='"+g+"' data='"+h+"' data-m='"+0+"'>"+$.formatNumber(h,{format:"00"})+":00 "+k+"</a>");$(".time-option",c).append(f);g="h-item";if(c.hour==h&&c.minute==30){g+=" select"}f=$("<a class='"+g+"' data='"+h+"' data-m='"+30+"'>"+$.formatNumber(h,{format:"00"})+":30 "+k+"</a>");$(".time-option",c).append(f)}$(".time-option",c).append(f)};c.setValue=function(g,f){if(g!=undefined){c.hour=g}else{c.hour=0}if(f!=undefined){c.minute=f}else{c.minute=0}$(".h-item",c).removeClass("select");if(f==0||f==30){$(".h-item",c).each(function(h,k){var l=parseInt($(k).attr("data"));var j=parseInt($(k).attr("data-m"));if(l==g&j==f){$(this).addClass("select")}})}};c.getValue=function(){return{hour:c.hour,minute:c.minute}};e();c.data("time",c);return c};$.fn.calendar=function(b){var e=$(this);if(e.data("calendar")){return e.data("calendar")}var a=new Date();a.setHours(0,0,0,0);var c={days:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","Octorber","November","December"],fromYear:a.getFullYear()-100,toYear:a.getFullYear()+100,onSelectDate:null,onSelectMonth:null,onSelectYear:null,disableDate:[]};b=$.extend({},c,b);function f(){e.setDisableDate(b.disableDate);e.level=1;e.addClass("calendar-box");e.html("<div class='title-calendar'><a class='prev-month fa fa-chevron-left'></a><span class='month-value'></span><a class='next-month fa fa-chevron-right'></a></div><div class='d-in-week'></div><div class='d-in-month'></div><div class='clear'></div>");$(b.days).each(function(h,j){var g=$("<span>"+j+"</span>");$(".d-in-week",e).append(g)});e.setValue(a);e.on("click",".prev-month",function(){if(e.level==1){e.cMonth=parseInt(e.cMonth)-1;var g=new Date(e.cYear,e.cMonth,1);e.cYear=g.getFullYear();e.cMonth=g.getMonth();e.showDay(e.cYear,e.cMonth)}else{if(e.level==2){e.cYear=parseInt(e.cYear)-1;e.showMonth(e.cYear)}else{if(e.level==3){e.startYear=parseInt(e.startYear)-10;e.showYear()}}}}).on("click",".next-month",function(){if(e.level==1){e.cMonth=parseInt(e.cMonth)+1;var g=new Date(e.cYear,e.cMonth,1);e.cYear=g.getFullYear();e.cMonth=g.getMonth();e.showDay(e.cYear,e.cMonth)}else{if(e.level==2){e.cYear=parseInt(e.cYear)+1;e.showMonth(e.cYear)}else{if(e.level==3){e.startYear=parseInt(e.startYear)+10;e.showYear()}}}}).on("click",".d-in-month .d-item",function(){if(!$(this).hasClass("disable")){e.cDate=$(this).attr("data");e.date=e.cDate;e.month=e.cMonth;e.year=e.cYear;if(b.onSelectDate){b.onSelectDate(e.getValue())}if(e.data("OnSelect")){e.actionComponent(e.data("OnSelect"))}e.setValue(e.getValue())}}).on("click",".d-in-month .m-item",function(){e.cMonth=$(this).attr("data");e.decreaseLevel();if(b.onSelectMonth){b.onSelectMonth(e.cMonth)}}).on("click",".d-in-month .y-item",function(){e.cYear=$(this).attr("data");e.decreaseLevel();if(b.onSelectYear){b.onSelectYear(e.cYear)}}).on("click",".month-value",function(){e.increaseLevel()})}e.increaseLevel=function(){if(e.level<3){e.level++}if(e.level==1){$(".d-in-week",e).setDisplay(true);e.showDay(e.cYear,e.cMonth)}if(e.level==2){$(".d-in-week",e).setDisplay(false);e.showMonth(e.cYear)}else{if(e.level==3){$(".d-in-week",e).setDisplay(false);e.showYear()}}};e.decreaseLevel=function(){if(e.level>1){e.level--}if(e.level==1){$(".d-in-week",e).setDisplay(true);e.showDay(e.cYear,e.cMonth)}else{if(e.level==2){$(".d-in-week",e).setDisplay(false);e.showMonth(e.cYear)}else{if(e.level==3){$(".d-in-week",e).setDisplay(false);e.showYear()}}}};e.showDay=function(q,g){var l=new Date(q,g+1,0).getDate();var r=b.fullMonths[g]+" "+q;$(".d-in-month",e).html("");var h=new Date(e.year,e.month,e.date).getTime();for(var k=1;k<=l;k++){var n=new Date(q,g,k);var t="d-item dow-"+n.getDay();n=n.getTime();if(a.getTime()==n){t+=" current"}if(h==n){t+=" select"}var j=$("<a class='"+t+"' data='"+k+"'>"+k+"</a>");if(b.disableDate!=null&&b.disableDate.length>0){var o=false;for(var p=0;p<b.disableDate.length;p++){if(n==b.disableDate[p].getTime()){o=true;break}}if(!o){j=$("<a class='"+t+" disable' data='"+k+"'>"+k+"</a>")}}$(".d-in-month",e).append(j)}var s=new Date(q,g,1).getDay();for(var k=1;k<=s;k++){var t="d-item disable";j=$("<a class='"+t+" disable'></a>");j.insertBefore($(".d-in-month>a:first-child",e))}$(".month-value",e).text(r)};e.showMonth=function(g){$(".d-in-month",e).animate({left:-300},100,function(){$(".d-in-month",e).css("left",400);var l=12;var m=g;$(".d-in-month",e).html("");for(var k=1;k<=l;k++){var j="m-item";if(e.year==g&&(e.month+1)==k){j+=" select"}var h=$("<a class='"+j+"' data='"+(k-1)+"'>"+b.months[k-1]+"</a>");$(".d-in-month",e).append(h)}$(".month-value",e).text(m);$(".d-in-month",e).animate({left:0},200)})};e.showYear=function(){$(".d-in-month",e).animate({left:-300},100,function(){$(".d-in-month",e).css("left",400);var j=e.startYear;var l=j+10;var m=e.startYear+" - "+(e.startYear+10);$(".d-in-month",e).html("");for(var k=j;k<=l;k++){var h="y-item";if(e.year==k){h+=" select"}var g=$("<a class='"+h+"' data='"+k+"'>"+k+"</a>");$(".d-in-month",e).append(g)}$(".month-value",e).text(m);$(".d-in-month",e).animate({left:0},200)})};e.setValue=function(h){if(h==null){e.year=null;e.month=null;e.date=null;var g=new Date();e.cYear=g.getFullYear();e.cMonth=g.getMonth();e.cDate=g.getDate()}else{e.year=h.getFullYear();e.month=h.getMonth();e.date=h.getDate();e.cMonth=e.month;e.cYear=e.year;e.cDate=e.date}e.startYear=Math.floor(e.cYear/10)*10;e.showDay(e.cYear,e.cMonth)};e.setDisableDate=function(h){if(h!=null){for(var g=0;g<h.length;g++){h[g].setHours(0,0,0,0)}}b.disableDate=h};e.getValue=function(){if(e.year==null){return null}else{return new Date(parseInt(e.year),parseInt(e.month),parseInt(e.date))}};f();e.data("calendar",e);return e};$.fn.captcha=function(){var a=$(this);if(a.data("captcha")){return a.data("captcha")}function b(){a.on("click",".refresh",function(){d=new Date();$("img",a).attr("src","/Code/Web/WebService.asmx/Captcha?d="+d.getTime())})}b();a.data("captcha",a);return a};$.fn.tabbox=function(b){var e=$(this);if(e.data("tabbox")){return e.data("tabbox")}var c={allowDelete:false,actionAfterDelete:null};b=$.extend({},c,b);var a=e.attr("id");function f(){var g=$("<ul/>").addClass("tabbox-name");e.append(g);$("#"+a+"> .TabName").each(function(j,k){var h=$("<li/>");g.append(h);$(k).appendTo(h);if(b.allowDelete){h.append('<a class="fa fa-remove close-tab"></a>')}});$("#"+a+"> .TabContent").css("display","none").each(function(h,j){if($(j).hasClass("load-content")&&$(j).data("loadSource")){$(j).load($(j).data("loadSource"))}e.append(j)});$("#"+a+">.tabbox-name").on("click",".TabName",function(){$("#"+a+">.tabbox-name .TabName").removeClass("tab-active");$(this).addClass("tab-active");var h=$("#"+a+">.tabbox-name .TabName").index(this);$("#"+a+"> .TabContent").css("display","none");var i=$($("#"+a+"> .TabContent").get(h));i.css("display","block");if(i.data("loadSource")){StartLoading();i.load(i.data("loadSource"),function(){EndLoading()});i.removeData("loadSource")}});$("#"+a+">.tabbox-name").on("click",".close-tab",function(){var h=$("#"+a+">.tabbox-name .close-tab").index(this);$($("#"+a+"> .TabContent").get(h)).remove();$(this).parent().remove();if(b.actionAfterDelete){b.actionAfterDelete()}});$($("#"+a+">.tabbox-name .TabName").get(0)).click()}e.appendTab=function(g,h){if(b.allowDelete){$("#"+a+"> .tabbox-name").append('<li><a class="TabName">'+g+'</a><a class="fa fa-remove close-tab"></a></li>')}else{$("#"+a+"> .tabbox-name").append('<li><a class="TabName">'+g+"</a></li>")}var h=$(h);$("#"+a).append(h);$(h).addClass("TabContent");$(h).css("display","none");if($("#"+a+">.tabbox-name .tab-active").size()==0){$($("#"+a+">.tabbox-name .TabName").get(0)).click()}};f();e.data("tabbox",e);return e};$.fn.ColorBox=function(){var a=$(this);a.ColorPicker({color:"#ffffff",onShow:function(b){$(b).fadeIn(500);return false},onHide:function(b){$(b).fadeOut(500);if($(a).data("OnChange")){$(a).data("OnChange")()}return false},onChange:function(b,e,c){$("div",a).css("backgroundColor","#"+e);a.data("value",e)}})};$.fn.insertError=function(f){var e=this;var b=$(e).attr("id");if($("#"+$(e).attr("id")+"_spinner").size()>0){b=$(e).attr("id")+"_spinner";e=$("#"+b)}$("#"+b).addClass("error-style");var a=b+"_error";$("#"+a).removeClass("hide");if($("#"+a).size()>0){$("#"+a).text(f)}else{var c="<span id='"+a+"' class='error'>"+f+"</span>";$(c).insertAfter($(e))}};$.fn.clearError=function(){var c=this;var b=$(c).attr("id");if($("#"+$(c).attr("id")+"_spinner").size()>0){b=$(c).attr("id")+"_spinner";c=$("#"+b)}$("#"+b).removeClass("error-style");var a=$(c).attr("id")+"_error";$("#"+a).addClass("hide")};$.fn.rating=function(b){var e=$(this);if(e.data("rating")){return e.data("rating")}var c={ratingCount:5,imgSelect:"/Code/Web/Images/star-icon-select.png",img:"/Code/Web/Images/star-icon.png",width:20,height:20,value:0,disable:false,OnSelect:null};var b=$.extend({},c,b);var a=$('<div class="status-rating"/>');e.append(a);function f(){e.css({width:b.ratingCount*b.width,height:b.height,"background-image":"url("+b.img+")"});a.css({background:"url("+b.imgSelect+")",width:b.value,height:b.height});e.disable(b.disable);e.setValue(b.value)}e.disable=function(g){e.unbind("click");e.unbind("mouseenter mouseleave");if(!g){e.hover(function(){var h=getRealPosition(e.get(0));$(document).mousemove(function(j){var i=Math.ceil((j.pageX-h.x)/b.width);a.css("width",i*b.width)})},function(){$(document).unbind("mousemove");a.css("width",b.value*b.width)});e.click(function(i){var h=Math.ceil((i.pageX-pos.x)/b.width);b.value=h;if(b.OnSelect){b.OnSelect()}})}};e.setValue=function(g){b.value=Math.round(g*100)/100;a.css("width",b.value*b.width)};e.getValue=function(){return b.value};f();e.data("rating",e);return e};$.fn.timebox=function(){var a=$(this);if(a.data("timebox")){return a.data("timebox")}var c=a.attr("id")+"_time_container";var b=a.attr("id")+"_time";function f(){a.html("<input class='tb-hour'/>:<input class='tb-minute'/><span class=\"s-time fa fa-clock-o\"></span>");$(".tb-hour",a).change(function(){$(this).formatNumber({format:"00"});var g=$(this).val();g=parseInt(g);if(g>23){g=23}$(this).val(g);a.onChange()}).click(function(){$(this).select()});$(".tb-minute",a).change(function(){$(this).formatNumber({format:"00"});var g=$(this).val();g=parseInt(g);if(g>59){g=59}$(this).val(g);a.onChange()}).click(function(){$(this).select()});e()}a.onChange=function(){$(".tb-hour",a).formatNumber({format:"00"});$(".tb-minute",a).formatNumber({format:"00"});if(a.data("OnChange")){a.actionComponent(a.data("OnChange"))}};function e(){a.on("click",".s-time",function(){if(!$(this).hasClass("open")){$(this).addClass("open");var g=$('<div id="'+b+'"/>');var i=$('<div id="'+c+"\" class='container-out-size'/>");i.appendTo("body").click(function(){i.remove();g.remove();$(".s-time",a).removeClass("open")});g.addClass("select-date-time").appendTo("body").timeselect({onSelectMinute:function(k,j){$(".tb-hour",a).val(k);$(".tb-minute",a).val(j);i.remove();g.remove();$(".s-time",a).removeClass("open");a.onChange()},onSelectHour:function(k,j){$(".tb-hour",a).val(k);$(".tb-minute",a).val(j);a.onChange()}});g.position({of:a,my:"right bottom",at:"right top"})}$(".tb-hour",a).formatNumber({format:"00"});$(".tb-minute",a).formatNumber({format:"00"});var h=$("#"+b).timeselect();$("#"+b).scrollTop((parseInt($(".tb-hour",a).val())*2*30));h.setValue($(".tb-hour",a).val(),$(".tb-minute",a).val());h.showHour()})}a.setTime=function(j){if(j){if(j instanceof Date){var n=j.getHours();var g=j.getMinutes();var l=j.getSeconds();j=(n*3600000)+(g*60000)+(l*1000)}j=j/(1000*60);var k=Math.floor(j%60);j=j/60;var i=Math.floor(j%24);$(".tb-hour",a).val(i);$(".tb-minute",a).val(k)}else{$(".tb-hour",a).val("");$(".tb-minute",a).val("")}$(".tb-hour",a).formatNumber({format:"00"});$(".tb-minute",a).formatNumber({format:"00"})};a.getTime=function(){$(".tb-hour",a).formatNumber({format:"00"});$(".tb-minute",a).formatNumber({format:"00"});var j=parseInt($(".tb-hour",a).val());var g=parseInt($(".tb-minute",a).val());var i=(j*60*60*1000)+(g*60*1000);return i};a.setDisable=function(g){if(g){a.addClass("disabled");$("input",a).attr("disabled","disabled");a.off("click",".s-time")}else{a.removeClass("disabled");$("input",a).removeAttr("disabled");e()}};f();a.data("timebox",a);return a};var ColorPicker=function(){var S={},a,N=65,s,P='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',B={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},J=function(T,V){var U=i(T);$(V).data("colorpicker").fields.eq(1).val(U.r).end().eq(2).val(U.g).end().eq(3).val(U.b).end()},t=function(T,U){$(U).data("colorpicker").fields.eq(4).val(T.h).end().eq(5).val(T.s).end().eq(6).val(T.b).end()},f=function(T,U){$(U).data("colorpicker").fields.eq(0).val(R(T)).end()},k=function(T,U){$(U).data("colorpicker").selector.css("backgroundColor","#"+R({h:T.h,s:100,b:100}));$(U).data("colorpicker").selectorIndic.css({left:parseInt(150*T.s/100,10),top:parseInt(150*(100-T.b)/100,10)})},G=function(T,U){$(U).data("colorpicker").hue.css("top",parseInt(150-150*T.h/360,10))},g=function(T,U){$(U).data("colorpicker").currentColor.css("backgroundColor","#"+R(T))},E=function(T,U){$(U).data("colorpicker").newColor.css("backgroundColor","#"+R(T))},m=function(T){var V=T.charCode||T.keyCode||-1;if((V>N&&V<=90)||V==32){return false}var U=$(this).parent().parent();if(U.data("colorpicker").livePreview===true){c.apply(this)}},c=function(U){var V=$(this).parent().parent(),T;if(this.parentNode.className.indexOf("_hex")>0){V.data("colorpicker").color=T=l(y(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){V.data("colorpicker").color=T=e({h:parseInt(V.data("colorpicker").fields.eq(4).val(),10),s:parseInt(V.data("colorpicker").fields.eq(5).val(),10),b:parseInt(V.data("colorpicker").fields.eq(6).val(),10)})}else{V.data("colorpicker").color=T=h(M({r:parseInt(V.data("colorpicker").fields.eq(1).val(),10),g:parseInt(V.data("colorpicker").fields.eq(2).val(),10),b:parseInt(V.data("colorpicker").fields.eq(3).val(),10)}))}}if(U){J(T,V.get(0));f(T,V.get(0));t(T,V.get(0))}k(T,V.get(0));G(T,V.get(0));E(T,V.get(0));V.data("colorpicker").onChange.apply(V,[T,R(T),i(T)])},n=function(T){var U=$(this).parent().parent();U.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},K=function(){N=this.parentNode.className.indexOf("_hex")>0?70:65;$(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");$(this).parent().addClass("colorpicker_focus")},I=function(T){var V=$(this).parent().find("input").focus();var U={el:$(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:T.pageY,field:V,val:parseInt(V.val(),10),preview:$(this).parent().parent().data("colorpicker").livePreview};$(document).bind("mouseup",U,r);$(document).bind("mousemove",U,L)},L=function(T){T.data.field.val(Math.max(0,Math.min(T.data.max,parseInt(T.data.val+T.pageY-T.data.y,10))));if(T.data.preview){c.apply(T.data.field.get(0),[true])}return false},r=function(T){c.apply(T.data.field.get(0),[true]);T.data.el.removeClass("colorpicker_slider").find("input").focus();$(document).unbind("mouseup",r);$(document).unbind("mousemove",L);return false},w=function(T){var U={cal:$(this).parent(),y:$(this).offset().top};U.preview=U.cal.data("colorpicker").livePreview;$(document).bind("mouseup",U,q);$(document).bind("mousemove",U,j)},j=function(T){c.apply(T.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(T.pageY-T.data.y))))/150,10)).get(0),[T.data.preview]);return false},q=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));f(T.data.cal.data("colorpicker").color,T.data.cal.get(0));$(document).unbind("mouseup",q);$(document).unbind("mousemove",j);return false},x=function(T){var U={cal:$(this).parent(),pos:$(this).offset()};U.preview=U.cal.data("colorpicker").livePreview;$(document).bind("mouseup",U,A);$(document).bind("mousemove",U,p)},p=function(T){c.apply(T.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(T.pageY-T.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(T.pageX-T.data.pos.left))))/150,10)).get(0),[T.data.preview]);return false},A=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));f(T.data.cal.data("colorpicker").color,T.data.cal.get(0));$(document).unbind("mouseup",A);$(document).unbind("mousemove",p);return false},u=function(T){$(this).addClass("colorpicker_focus")},Q=function(T){$(this).removeClass("colorpicker_focus")},o=function(U){var V=$(this).parent();var T=V.data("colorpicker").color;V.data("colorpicker").origColor=T;g(T,V.get(0));V.data("colorpicker").onSubmit(T,R(T),i(T),V.data("colorpicker").el)},D=function(T){var X=$("#"+$(this).data("colorpickerId"));X.data("colorpicker").onBeforeShow.apply(this,[X.get(0)]);var Y=$(this).offset();var W=z();var V=Y.top+this.offsetHeight;var U=Y.left;if(V+176>W.t+W.h){V-=this.offsetHeight+176}if(U+356>W.l+W.w){U-=356}X.css({left:U+"px",top:V+"px"});if(X.data("colorpicker").onShow.apply(this,[X.get(0)])!=false){X.show()}$(document).bind("mousedown",{cal:X},O);return false},O=function(T){if(!H(T.data.cal.get(0),T.target,T.data.cal.get(0))){if(T.data.cal.data("colorpicker").onHide.apply(this,[T.data.cal.get(0)])!=false){T.data.cal.hide()}$(document).unbind("mousedown",O)}},H=function(V,U,T){if(V==U){return true}if(V.contains){return V.contains(U)}if(V.compareDocumentPosition){return !!(V.compareDocumentPosition(U)&16)}var W=U.parentNode;while(W&&W!=T){if(W==V){return true}W=W.parentNode}return false},z=function(){var T=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(T?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(T?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(T?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(T?document.documentElement.clientHeight:document.body.clientHeight)}},e=function(T){return{h:Math.min(360,Math.max(0,T.h)),s:Math.min(100,Math.max(0,T.s)),b:Math.min(100,Math.max(0,T.b))}},M=function(T){return{r:Math.min(255,Math.max(0,T.r)),g:Math.min(255,Math.max(0,T.g)),b:Math.min(255,Math.max(0,T.b))}},y=function(V){var T=6-V.length;if(T>0){var W=[];for(var U=0;U<T;U++){W.push("0")}W.push(V);V=W.join("")}return V},b=function(T){var T=parseInt(((T.indexOf("#")>-1)?T.substring(1):T),16);return{r:T>>16,g:(T&65280)>>8,b:(T&255)}},l=function(T){return h(b(T))},h=function(V){var U={h:0,s:0,b:0};var W=Math.min(V.r,V.g,V.b);var T=Math.max(V.r,V.g,V.b);var X=T-W;U.b=T;if(T!=0){}U.s=T!=0?255*X/T:0;if(U.s!=0){if(V.r==T){U.h=(V.g-V.b)/X}else{if(V.g==T){U.h=2+(V.b-V.r)/X}else{U.h=4+(V.r-V.g)/X}}}else{U.h=-1}U.h*=60;if(U.h<0){U.h+=360}U.s*=100/255;U.b*=100/255;return U},i=function(T){var V={};var Z=Math.round(T.h);var Y=Math.round(T.s*255/100);var U=Math.round(T.b*255/100);if(Y==0){V.r=V.g=V.b=U}else{var aa=U;var X=(255-Y)*U/255;var W=(aa-X)*(Z%60)/60;if(Z==360){Z=0}if(Z<60){V.r=aa;V.b=X;V.g=X+W}else{if(Z<120){V.g=aa;V.b=X;V.r=aa-W}else{if(Z<180){V.g=aa;V.r=X;V.b=X+W}else{if(Z<240){V.b=aa;V.r=X;V.g=aa-W}else{if(Z<300){V.b=aa;V.g=X;V.r=X+W}else{if(Z<360){V.r=aa;V.g=X;V.b=aa-W}else{V.r=0;V.g=0;V.b=0}}}}}}}return{r:Math.round(V.r),g:Math.round(V.g),b:Math.round(V.b)}},C=function(T){var U=[T.r.toString(16),T.g.toString(16),T.b.toString(16)];$.each(U,function(V,W){if(W.length==1){U[V]="0"+W}});return U.join("")},R=function(T){return C(i(T))},F=function(){var U=$(this).parent();var T=U.data("colorpicker").origColor;U.data("colorpicker").color=T;J(T,U.get(0));f(T,U.get(0));t(T,U.get(0));k(T,U.get(0));G(T,U.get(0));E(T,U.get(0))};return{init:function(T){T=$.extend({},B,T||{});if(typeof T.color=="string"){T.color=l(T.color)}else{if(T.color.r!=undefined&&T.color.g!=undefined&&T.color.b!=undefined){T.color=h(T.color)}else{if(T.color.h!=undefined&&T.color.s!=undefined&&T.color.b!=undefined){T.color=e(T.color)}else{return this}}}return this.each(function(){if(!$(this).data("colorpickerId")){var U=$.extend({},T);U.origColor=T.color;var W="collorpicker_"+parseInt(Math.random()*1000);$(this).data("colorpickerId",W);var V=$(P).attr("id",W);if(U.flat){V.appendTo(this).show()}else{V.appendTo(document.body)}U.fields=V.find("input").bind("keyup",m).bind("change",c).bind("blur",n).bind("focus",K);V.find("span").bind("mousedown",I).end().find(">div.colorpicker_current_color").bind("click",F);U.selector=V.find("div.colorpicker_color").bind("mousedown",x);U.selectorIndic=U.selector.find("div div");U.el=this;U.hue=V.find("div.colorpicker_hue div");V.find("div.colorpicker_hue").bind("mousedown",w);U.newColor=V.find("div.colorpicker_new_color");U.currentColor=V.find("div.colorpicker_current_color");V.data("colorpicker",U);V.find("div.colorpicker_submit").bind("mouseenter",u).bind("mouseleave",Q).bind("click",o);J(U.color,V.get(0));t(U.color,V.get(0));f(U.color,V.get(0));G(U.color,V.get(0));k(U.color,V.get(0));g(U.color,V.get(0));E(U.color,V.get(0));if(U.flat){V.css({position:"relative",display:"block"})}else{$(this).bind(U.eventName,D)}}})},showPicker:function(){return this.each(function(){if($(this).data("colorpickerId")){D.apply(this)}})},hidePicker:function(){return this.each(function(){if($(this).data("colorpickerId")){$("#"+$(this).data("colorpickerId")).hide()}})},setColor:function(T){if(typeof T=="string"){T=l(T)}else{if(T.r!=undefined&&T.g!=undefined&&T.b!=undefined){T=h(T)}else{if(T.h!=undefined&&T.s!=undefined&&T.b!=undefined){T=e(T)}else{return this}}}$(this).data("value",R(T));$("div",this).css("backgroundColor","#"+R(T));return this.each(function(){if($(this).data("colorpickerId")){var U=$("#"+$(this).data("colorpickerId"));U.data("colorpicker").color=T;U.data("colorpicker").origColor=T;J(T,U.get(0));t(T,U.get(0));f(T,U.get(0));G(T,U.get(0));k(T,U.get(0));g(T,U.get(0));E(T,U.get(0))}})}}}();$.fn.extend({ColorPicker:ColorPicker.init,ColorPickerHide:ColorPicker.hidePicker,ColorPickerShow:ColorPicker.showPicker,ColorPickerSetColor:ColorPicker.setColor});$.fn.textbox=function(){var a=$(this);if(a.data("textbox")){return a.data("textbox")}function b(){}a.model=function(c){if(!a.data("sourceModel")){a.boxComplete=$("<ul id='autocomplete_"+a.attr("id")+"' class='autocomplete-box'/>");a.boxComplete.appendTo("body");var e,f;a.keyup(function(g){if((g.keyCode!=38&&g.keyCode!=40)||a.boxComplete.css("display")=="none"){if(g.keyCode!=13&&g.keyCode!=9){a.search(a.val())}}clearInterval(f);clearTimeout(e)}).keydown(function(j){if((j.keyCode==38||j.keyCode==40)&&a.boxComplete.css("display")!="none"){var i=a.listResult;if(i.size()>0){var h=i.index($(".select",a.boxComplete));if(j.keyCode==40){h=h+1>=i.size()?0:h+1}else{h=h-1<0?i.size()-1:h-1}a.next(h);clearInterval(f);clearTimeout(e);e=setTimeout(function(){f=setInterval(function(){var k=i.index($(".select",a.boxComplete));if(j.keyCode==40){k=k+1>=i.size()?0:k+1}else{k=k-1<0?i.size()-1:k-1}a.next(k)},500)},1000)}}else{if(j.keyCode==13){var g=$(".select",a.boxComplete);if(g.size()>0){a.val(g.text());a.change()}setTimeout(function(){$("#autocomplete_"+a.attr("id")).slideUp(200)},200)}}}).focusout(function(){var g=a.data("sourceModel");if(g){if(a.data("Match")){var h=null;$(g).each(function(j,k){if(k.Label==a.val()){h=k}});if(h){a.val(h.Label)}else{a.val("")}}}setTimeout(function(){$("#autocomplete_"+a.attr("id")).slideUp(200)},200)});a.boxComplete.on("click","li",function(){a.val($(this).text());a.change()});a.boxComplete.on("mouseover","li",function(){$("li",a.boxComplete).removeClass("select");$(this).addClass("select")})}a.data("sourceModel",c)};a.next=function(f){var e=a.listResult;e.removeClass("select");var c=$(e.get(f));c.addClass("select");a.val(c.text());a.change();var g=a.boxComplete.outerHeight(false);var j=g+a.boxComplete.scrollTop();var l=j-g;var k=getRealPosition(c,a.boxComplete);var i=c.offset().top;if(k.y>j){a.boxComplete.scrollTop(k.y)}else{if(k.y<l){a.boxComplete.scrollTop(k.y-g)}}};a.search=function(f){var c=a.data("sourceModel");if(c){f=f.toLowerCase();var e=a.boxComplete;e.html("");var g=false;$(c).each(function(h,j){if(j.NameSearch.indexOf(f)!=-1){e.append("<li value='"+j.Value+"'>"+j.Label+"</li>");g=true}});if(g){if(e.css("display")=="none"){a.boxComplete.removeAttr("style").position({of:a,my:"left top",at:"left bottom"});e.slideDown(200)}}}a.listResult=$("li",a.boxComplete);if(a.listResult.size()>0){$(a.listResult.get(0)).addClass("select")}};a.getValue=function(){var c=a.data("sourceModel");if(c){var e="";$(c).each(function(f,g){if(g.Label==a.val()){e=g.Value}});if(e!=""){return e}if(a.data("Match")){return""}else{return a.val().trim()}}else{return a.val().trim()}};b();a.data("textbox",a);return a};$.fn.menu=function(a){var c=$(this);if(c.data("menu")){return c.data("menu")}var b={axis:"x",eventBinding:"click",removeHrefParent:true};var a=$.extend({},b,a);function e(){var f=a.axis=="x"?"menu-list":"menu-list menu-list-vertical";c.addClass(f);var i=c.attr("id");var h=$('<input id="focus_'+i+'" type="checkbox" class=\'hidden-input\'/>').appendTo("body");var g;$("ul",c).each(function(j,l){$(l).attr("id",i+"_child_"+j);if($("li",l).size()>0){var k=$(l).parent();k.addClass("has-child")}});if(a.removeHrefParent){$(".has-child>a",c).removeAttr("href")}c.on(a.eventBinding,"li",function(k){var j=$(this).parent().attr("id");$("#"+j+" li").removeClass("select");$(this).addClass("select");h.focus();clearTimeout(g);k.stopPropagation()});h.focusout(function(){g=setTimeout(function(){$("li",c).removeClass("select")},500)})}e();c.data("menu",c);return c};